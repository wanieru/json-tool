(()=>{"use strict";var e={671:function(e,t){var n=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{a(s.next(e))}catch(e){o(e)}}function l(e){try{a(s.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,l)}a((s=s.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonTool=void 0,t.JsonTool=class{constructor(e,t=null){var n,s;this.elementState={},this.undoStack=[],this.redoStack=[],this.undoing=!1,this.containerElement=e,this.validator=null!=t?t:()=>({valid:!0}),this.schema=null,this.root=document.createElement("div"),this.root.style.fontFamily="monospace",this.root.style.marginLeft="30px",this.root.classList.add("json-tool"),this.rootObject=null,this.rootElement=null,this.errorMessages=document.createElement("div"),this.errorMessages.classList.add("json-tool-errors");const i=document.createElement("div");this.undoButton=document.createElement("button"),this.undoButton.innerText="⤶ Undo",this.undoButton.onclick=()=>this.undo(),i.appendChild(this.undoButton),this.redoButton=document.createElement("button"),this.redoButton.innerText="⤷ Redo",this.redoButton.style.marginLeft="5px",this.redoButton.onclick=()=>this.redo(),i.appendChild(this.redoButton);const o=document.createElement("iframe");o.style.width="100%",o.style.height="100%",o.style.overflow="scroll",o.style.border="0",e.innerHTML="",e.appendChild(o),this.iframeBody=null===(s=o.contentDocument||(null===(n=o.contentWindow)||void 0===n?void 0:n.document))||void 0===s?void 0:s.querySelector("body"),this.iframeBody.append(this.root),this.createCss(this.iframeBody),o.onload=()=>{var e,t;this.iframeBody=null===(t=o.contentDocument||(null===(e=o.contentWindow)||void 0===e?void 0:e.document))||void 0===t?void 0:t.querySelector("body"),this.iframeBody.append(i),this.iframeBody.append(this.root),this.createCss(this.iframeBody),this.iframeBody.appendChild(this.errorMessages)}}deleteChild(e){}getState(){return this.elementState}load(e,t,i){return n(this,void 0,void 0,(function*(){if(this.validator=null!=i?i:this.validator,this.schema=e,this.root.innerHTML="",e.title){const t=document.createElement("h3");t.textContent=e.title,s.addDescription(t,e.description,null==e?void 0:e.examples),this.root.appendChild(t)}this.rootObject=document.createElement("div"),this.root.appendChild(this.rootObject),this.rootElement=new s("","root",this.rootObject,this.schema,t,this),yield this.validate()}))}hide(){this.containerElement.innerHTML=""}setValidator(e){this.validator=e}getValue(){var e;return null===(e=this.rootElement)||void 0===e?void 0:e.getValue()}update(){var e;return n(this,void 0,void 0,(function*(){if(!this.rootObject)return;let t=1;null===(e=this.rootObject)||void 0===e||e.querySelectorAll(".line-number").forEach((e=>{e.innerText=t.toString(),t++})),yield this.validate()}))}validate(){var e;return n(this,void 0,void 0,(function*(){if(yield new Promise((e=>window.setTimeout(e,1))),!this.schema||!this.errorMessages)return;const t=this.validator(this.getValue(),this.schema);this.errorMessages.innerHTML="",t.valid||(this.errorMessages.innerHTML=(null!==(e=t.errors)&&void 0!==e?e:[]).map((e=>"string"==typeof e?e:e.message)).join("\n")),yield this.pushUndoState()}))}pushUndoState(){return n(this,void 0,void 0,(function*(){if(this.undoing)return;this.undoing=!0,yield new Promise((e=>window.setTimeout(e,1)));const e=this.getValue();this.undoStack.length>0&&JSON.stringify(e)===JSON.stringify(this.undoStack[0])?this.undoing=!1:(this.undoStack.unshift(e),this.redoStack=[],this.undoing=!1,this.updateUndoRedoButtons())}))}undo(){return n(this,void 0,void 0,(function*(){if(this.undoStack.length<2||this.undoing||!this.schema)return;this.undoing=!0,this.redoStack.unshift(this.getValue()),this.undoStack.splice(0,1);const e=this.undoStack[0];yield this.load(this.schema,e,this.validator),this.undoing=!1,this.updateUndoRedoButtons()}))}redo(){return n(this,void 0,void 0,(function*(){if(this.redoStack.length<1||this.undoing||!this.schema)return;this.undoing=!0;const e=this.redoStack.splice(0,1)[0];this.undoStack.unshift(e),yield this.load(this.schema,e,this.validator),this.undoing=!1,this.updateUndoRedoButtons()}))}updateUndoRedoButtons(){this.undoButton.disabled=this.undoStack.length<2,this.redoButton.disabled=this.redoStack.length<1}createCss(e){const t=document.createElement("style");e.appendChild(t),t.innerHTML="\n            .json-tool-btn\n             {\n                border: 1px black solid;\n                cursor: pointer;\n                display: block;\n             }\n              .json-tool-block > .json-tool-btn {\n                margin-top: -17px;\n                margin-left: -40px;\n                position: absolute;\n                opacity: 0;\n              }\n              .json-tool-block:hover > .json-tool-btn\n              {\n                opacity: 1;\n              }\n              .json-tool-value > .json-tool-btn {\n                margin-left: 10px;\n                display: inline-block;\n                position: absolute;\n                opacity :0;\n              }\n              .json-tool-value:hover > .json-tool-btn\n              {\n                opacity :1;\n              }\n              .json-tool-key > .json-tool-btns {\n                margin-left: -36px;\n                display: inline-block;\n                position: absolute;\n                width: 32px;\n                text-align: right;\n                opacity: 0;\n              }\n              .json-tool-key:hover > .json-tool-btns\n              {\n                opacity: 1;\n              }\n\n              .json-tool-key > .json-tool-btns > .json-tool-btn {\n                display: inline-block;\n                margin-right: 2px;\n              }\n              .json-tool-types > .json-tool-type\n              {\n                padding:0;\n                margin:0;\n                border:0;\n              }\n              .json-tool-value > .json-tool-types\n              {\n                float:right;\n                opacity: 0;\n              }\n              .json-tool-value.json-tool-object > .json-tool-types\n              {\n                float:none;\n                position: absolute;\n                margin-left: 15px;\n              }\n              .json-tool-value:hover > .json-tool-types\n              {\n                opacity: 1;\n              }\n\n              .json-tool-block.opened > .json-tool-key {display: block}\n              .json-tool-block.closed > .json-tool-key {display: none}\n\n              .line-number\n              {\n                position: absolute;\n                left: 0;\n                text-align: right;\n                width: 20px;\n              }\n              .json-tool-value.json-tool-object > .line-number\n              {\n                margin-top: -15px;\n              }\n              .json-tool input, .json-tool select, .json-tool textarea\n              {\n                border: 0;\n                background-color: #ece9e9;\n                padding: 0;\n                margin: 1px;\n              }\n\n                .json-tool-errors {\n                    color: red;\n                    white-space: pre;\n                    font-family: monospace;\n                    line-height: 2em;\n                    font-weight: bold;\n                    font-size: 1.2em;\n                }\n"}};class s{constructor(e,t,n,i,o,r){this.arrayElements=[],this.objectElements={},this.element=n,this.setStyle(),this.schema=i,this.parent=r,this.key=e,this.path=t,this.currentValues={},this.types=i?s.getDefaultAvailableTypes(i):[];const l=s.getType(o);if(this.currentType="","undefined"!==l)this.currentType=l,this.types.push(l),this.setCurrentTypeValue(o);else if(this.schema){const e=s.getDefaultValue(this.schema);this.currentType=e.type,this.setCurrentTypeValue(e.value)}this.types=[...new Set(this.types)],this.updateElement()}update(){this.parent.update()}validate(){this.parent.validate()}getPath(e){for(let t=0;t<this.arrayElements.length;t++)if(this.arrayElements[t]===e)return`${this.path}.${t}`;for(const t in this.objectElements)if(this.objectElements[t]===e)return`${this.path}.${t}`;return`${this.path}.?`}getState(){return this.parent.getState()}deleteChild(e){if("string"==typeof e){const t=this.getValue();delete t[e],this.setCurrentTypeValue(t),this.updateElement()}else if("number"==typeof e){const t=[...this.getValue()];t.splice(e,1),this.setCurrentTypeValue(t),this.updateElement()}}setCurrentTypeValue(e){this.currentValues[this.currentType]=void 0!==e?JSON.parse(JSON.stringify(e)):void 0,this.validate&&this.validate()}static addDescription(e,t,n){n&&(t=`${t?`${t}\n`:""}Examples:\n${n.map((e=>JSON.stringify(e))).join(",\n")}`),t&&(e.title=t,e.style.textDecoration="underline dotted",e.style.cursor="help")}static getType(e){return void 0===e?"undefined":Array.isArray(e)?"array":null===e?"null":typeof e}static isInteger(e){if(!e)return!1;const t=Array.isArray(e.type)?e.type:[e.type];return t.includes("integer")&&!t.includes("number")}static getDefaultAvailableTypes(e){let t=Array.isArray(e.type)?[...e.type]:[e.type];return t=t.map((e=>"integer"===e?"number":e)),t}static getDefaultValue(e){const t=this.getDefaultAvailableTypes(e);return void 0!==e.default?{type:this.getType(e.default),value:e.default}:e.examples&&e.examples.length>0?{type:this.getType(e.examples[0]),value:e.examples[0]}:t.length>0?{type:t[0],value:this.getDefaultValueForType(e,t[0])}:{type:"null",value:this.getDefaultValueForType(e,"null")}}static getDefaultValueForType(e,t){var n,s,i;if("json"===t)return null;if("null"===t)return null;if("number"===t)return this.isInteger(e)?Math.ceil(null!==(n=null==e?void 0:e.minimum)&&void 0!==n?n:0):null!==(s=null==e?void 0:e.minimum)&&void 0!==s?s:0;if("string"===t)return(null==e?void 0:e.enum)?e.enum[0]:"color"===(null==e?void 0:e.format)?"#000000":"date"===(null==e?void 0:e.format)?(new Date).toDateString():"";if("boolean"===t)return!1;if("array"===t)return[];if("object"===t){const t={};if(null==e?void 0:e.properties)for(const n of null!==(i=e.required)&&void 0!==i?i:[]){if(!e.properties.hasOwnProperty(n))continue;const s=this.getDefaultValue(e.properties[n]);t[n]=s.value}return t}}updateElement(){var e,t,n,i,o,r,l,a,u,h,c,d,p,m,y,f,g,v,b,T,_,j,x,w,E,L,S,C,V;this.objectElements={},this.arrayElements=[],this.element.innerHTML="",this.element.style.display="inline-block",this.element.classList.remove("json-tool-object"),this.element.append(this.createLineNumber());const k=this.currentType,O=null!==(e=this.currentValues[k])&&void 0!==e?e:this.currentValues[k]=s.getDefaultValueForType(this.schema,k),I=document.createElement("div");if(I.classList.add("json-tool-types"),this.element.append(I),this.types.length>1||k!==this.types[0]){const e=document.createElement("select");e.classList.add("json-tool-type");for(const t of this.types){const n=document.createElement("option");n.innerText=t,n.value=t,e.append(n)}e.value=this.currentType,e.onchange=()=>{this.changeType(e.value)},I.append(e)}const N=document.createElement("div");if(N.classList.add("json-tool-btn"),N.style.display="inline-block",N.style.marginLeft="5px",N.innerText="*",N.onclick=()=>{var e;const t=["object","array","boolean","string","number","null","undefined","json"],n=null!==(e=window.prompt(`Enter new type:\n${t.join(", ")}`))&&void 0!==e?e:"";t.includes(n)&&("undefined"===n?this.parent.deleteChild(this.key):this.changeType(n))},I.append(N),"object"===k){this.element.append(this.createLineNumber(!0)),this.element.style.display="block",this.element.classList.add("json-tool-object"),this.element.append("{");const e=this.createBlock();this.element.append(e);const l=document.createElement("div");l.classList.add("json-tool-btn"),l.innerText="+",this.element.append(l),l.onclick=()=>{const e=prompt("Add new key?");if(e){const t=this.getValue();t[e]=null,this.setCurrentTypeValue(t),this.updateElement()}},this.element.append("}"),this.element.append(this.createLineNumber());for(const s in null!=O?O:{}){const r=this.createObjectKeyValuePair(s,(null===(t=this.schema)||void 0===t?void 0:t.properties)?this.schema.properties[s]:null,O[s]);e.append(r);const l=document.createElement("div");if(r.prepend(l),l.classList.add("json-tool-btns"),(null===(n=this.schema)||void 0===n?void 0:n.properties)&&!this.schema.properties.hasOwnProperty(s)){const e=document.createElement("div");e.classList.add("json-tool-btn"),e.innerText="X",e.onclick=()=>{confirm(`Are you sure you want to delete the key ${s}?`)&&this.deleteChild(s)},l.append(e)}else if(!(null===(o=null===(i=this.schema)||void 0===i?void 0:i.required)||void 0===o?void 0:o.includes(s))){const e=document.createElement("div");e.classList.add("json-tool-btn"),e.innerText="∽",e.onclick=()=>{confirm(`Are you sure you want to delete the key ${s}?`)&&this.deleteChild(s)},l.append(e)}}if(null===(r=this.schema)||void 0===r?void 0:r.properties)for(const t in this.schema.properties){if(null==O?void 0:O.hasOwnProperty(t))continue;const n=this.createObjectKeyValuePair(t,this.schema.properties[t],void 0,!0);e.append(n),n.style.textDecoration="line-through 2px";const i=document.createElement("div");n.prepend(i),i.classList.add("json-tool-btns");const o=document.createElement("div");o.classList.add("json-tool-btn"),o.innerText="≁",o.onclick=()=>{var e;if(null===(e=this.schema)||void 0===e?void 0:e.properties){const e=this.getValue();e[t]=s.getDefaultValue(this.schema.properties[t]).value,this.setCurrentTypeValue(e),this.updateElement()}},i.append(o)}}else if("array"===k){this.element.append(this.createLineNumber(!0)),this.element.style.display="block",this.element.classList.add("json-tool-object"),this.element.append("[");const e=this.createBlock();this.element.append(e);const t=document.createElement("div");t.classList.add("json-tool-btn"),t.innerText="+",this.element.append(t),t.onclick=()=>{var e,t;const n=[...this.getValue()];if(n.length===(null===(e=this.schema)||void 0===e?void 0:e.maxItems)&&!confirm("This array is at max capacity - really add more?"))return;const i=(null===(t=this.schema)||void 0===t?void 0:t.items)?s.getDefaultValue(this.schema.items).value:null;n.push(i),this.currentType=k,this.setCurrentTypeValue(n),this.setIsOpened(!0),this.updateElement()},this.element.append("]"),this.element.append(this.createLineNumber());const n=null!=O?O:[];for(let t=0;t<n.length;t++){const n=t,s=this.createObjectKeyValuePair(t,(null===(l=this.schema)||void 0===l?void 0:l.items)?this.schema.items:null,O[t]);e.append(s);const i=document.createElement("div");s.prepend(i),i.classList.add("json-tool-btns");const o=document.createElement("div");o.classList.add("json-tool-btn"),o.innerText="X",o.onclick=()=>{var e;const t=[...this.getValue()];t.length!==(null===(e=this.schema)||void 0===e?void 0:e.minItems)?confirm(`Are you sure you want to delete element ${n}?`)&&this.deleteChild(n):alert(`${this.path} needs at least ${t.length} elements.`)},i.append(o);const r=document.createElement("div");r.classList.add("json-tool-btn"),r.innerText="ᐃ",r.onclick=()=>{let e=[...this.getValue()];const t=e.splice(n,1);e=e.slice(0,n-1).concat(t).concat(e.slice(n-1)),this.setCurrentTypeValue(e),this.updateElement()},i.append(r);const a=document.createElement("div");a.classList.add("json-tool-btn"),a.innerText="ᐁ",a.onclick=()=>{let e=[...this.getValue()];const t=e.splice(n,1);e=e.slice(0,n+1).concat(t).concat(e.slice(n+1)),this.setCurrentTypeValue(e),this.updateElement()},i.append(a)}}else if("boolean"===k){const e=document.createElement("input");e.type="checkbox",e.checked=O,e.onchange=()=>{this.setCurrentTypeValue(e.checked)},this.element.append(e)}else if("string"===k)if(null===(a=this.schema)||void 0===a?void 0:a.enum){const e=document.createElement("select");for(const t of[...new Set(this.schema.enum.concat(O))]){const n=document.createElement("option");n.innerText=t,n.value=t,e.append(n)}e.value=O,e.onchange=()=>{this.setCurrentTypeValue(e.value)},this.element.append(e)}else if("textarea"===(null===(u=this.schema)||void 0===u?void 0:u.format)){const e=document.createElement("textarea");e.value=O,e.minLength=null!==(c=null===(h=this.schema)||void 0===h?void 0:h.minLength)&&void 0!==c?c:0,e.maxLength=null!==(p=null===(d=this.schema)||void 0===d?void 0:d.maxLength)&&void 0!==p?p:99999999999999,e.onchange=()=>{this.setCurrentTypeValue(e.value)},this.element.append(e)}else if("date"===(null===(m=this.schema)||void 0===m?void 0:m.format)){const e=document.createElement("input");e.type="date",e.onchange=()=>{var t,n;this.setCurrentTypeValue(null!==(n=null===(t=e.valueAsDate)||void 0===t?void 0:t.toDateString())&&void 0!==n?n:"")},this.element.append(e),e.valueAsDate=new Date(O)}else{const e=document.createElement("input");e.type="text",(null===(y=this.schema)||void 0===y?void 0:y.format)&&["password","email","color","url"].includes(this.schema.format)&&(e.type=this.schema.format),e.value=O,e.minLength=null!==(g=null===(f=this.schema)||void 0===f?void 0:f.minLength)&&void 0!==g?g:0,e.maxLength=null!==(b=null===(v=this.schema)||void 0===v?void 0:v.maxLength)&&void 0!==b?b:99999999999999,e.onchange=()=>{this.setCurrentTypeValue(e.value)},this.element.append(e)}else if("null"===k)this.element.append("null");else if("number"===k){const e=document.createElement("input");e.type="number",e.value=O.toString(),e.min=null!==(j=null===(_=null===(T=this.schema)||void 0===T?void 0:T.minimum)||void 0===_?void 0:_.toString())&&void 0!==j?j:"",e.max=null!==(E=null===(w=null===(x=this.schema)||void 0===x?void 0:x.maximum)||void 0===w?void 0:w.toString())&&void 0!==E?E:"",s.isInteger(this.schema)&&(e.step="1"),e.onchange=()=>{this.setCurrentTypeValue(parseFloat(e.value))},this.element.append(e)}else if("json"===k){const e=document.createElement("textarea");e.value=JSON.stringify(O,null,3),e.minLength=null!==(S=null===(L=this.schema)||void 0===L?void 0:L.minLength)&&void 0!==S?S:0,e.maxLength=null!==(V=null===(C=this.schema)||void 0===C?void 0:C.maxLength)&&void 0!==V?V:99999999999999,e.onchange=()=>{const t=e.value;let n=null;try{n=JSON.parse(t),this.setCurrentTypeValue(n);const e=s.getType(n);this.currentValues[e]=n}catch(e){alert("Couldn't parse JSON: "+e)}},this.element.append(e)}else this.element.append(`[${k}] : ${O}`);this.update()}createLineNumber(e=!1){const t=document.createElement("div");return t.classList.add("line-number"),e&&(t.style.marginTop="0"),t}isOpened(){var e;return null===(e=this.parent.getState()[`${this.path}_opened`])||void 0===e||e}setIsOpened(e){this.parent.getState()[`${this.path}_opened`]=e}createBlock(){const e=document.createElement("div");e.classList.add("json-tool-block"),e.style.paddingLeft="25px",e.style.borderLeft="1px dashed black",e.style.marginLeft="3px";const t=document.createElement("div");"root"!==this.path&&e.append(t),t.classList.add("json-tool-btn");const n=n=>{t.innerText=n?"ᐯ":"ᐳ",e.classList.remove("opened","closed"),e.classList.add(n?"opened":"closed")};return t.onclick=()=>{const e=!this.isOpened();this.setIsOpened(e),n(e)},n(this.isOpened()),e}createObjectKeyValuePair(e,t,n,i=!1){var o;const r=document.createElement("div"),l=e;e="number"==typeof e?(null==t?void 0:t.title)?`${t.title} ${e}`:e:null!==(o=null==t?void 0:t.title)&&void 0!==o?o:e;const a=document.createElement("span");if(a.innerText=e.toString(),s.addDescription(a,null==t?void 0:t.description,null==t?void 0:t.examples),r.append(a),r.classList.add("json-tool-key"),r.append(": "),!i){const e=document.createElement("div"),i=new s(l,`${this.path}.${l}`,e,t,n,this);"array"===this.currentType?this.arrayElements.push(i):"object"===this.currentType&&(this.objectElements[l]=i),r.append(e)}return r}changeType(e){var t;const n=this.getValue();this.currentType=e,"json"===e?this.setCurrentTypeValue(n):this.currentValues.hasOwnProperty(e)||(void 0!==(null===(t=this.schema)||void 0===t?void 0:t.default)&&s.getType(this.schema.default)===e?this.setCurrentTypeValue(this.schema.default):this.setCurrentTypeValue(s.getDefaultValueForType(this.schema,e))),this.updateElement()}setStyle(){this.element.style.whiteSpace="pre",this.element.classList.add("json-tool-value")}getValue(){var e;let t;if("array"===this.currentType)t=this.arrayElements.map((e=>e.getValue()));else if("object"===this.currentType){const e={};for(const t in this.objectElements)e[t]=this.objectElements[t].getValue();t=e}else t=null!==(e=this.currentValues[this.currentType])&&void 0!==e?e:s.getDefaultValueForType(this.schema,this.currentType);return this.currentValues[this.currentType]=t,t}}},290:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TschArray=t.TschObject=t.TschUnion=t.TschUndefined=t.TschNull=t.TschBoolean=t.TschNumber=t.TschString=t.TschType=void 0;class n{constructor(e,t){this.path=e,this.pathString=n.formatPath(e),this.rawMessage=t,this.message=`${this.pathString}: ${t}`}static formatPath(e){return e.length<1?"root":e.join(".")}}class s{constructor(e){this._ts=null,this._type=e,this._title=null,this._description=null,this._default=null,this._examples=null}union(e){return new u(this,e)}optional(){return new u(this,new a)}nullable(){return new u(this,new l)}clone(){const e=this.newInstance();return e._title=this._title,e._description=this._description,e._default=this._default,e._examples=this._examples?[...this._examples]:null,e}title(e){const t=this.clone();return t._title=e,t}description(e){const t=this.clone();return t._description=e,t}default(e){const t=this.clone();return t._default=e,t}examples(e){const t=this.clone();return t._examples=[...e],t}getJsonSchemaProperty(){const e={type:this._type};return this._title&&(e.title=this._title),this._description&&(e.description=this._description),this._default&&(e.default=this._default),this._examples&&(e.examples=this._examples),e}validate(e){const t=[];return this.validateInternal([],e,t),{valid:0==t.length,errors:t}}validateInternal(e,t,s){this.isCorrectType(t)?this.validateCorrectType(e,t,s):s.push(new n(e,`Value has to be of type ${this.getTypeName()}`))}isOptional(){return!1}isNullable(){return!1}}t.TschType=s;class i extends s{constructor(){super("string"),this._format=null,this._enum=null,this._minLength=null,this._maxLength=null}newInstance(){return new i}clone(){const e=super.clone();return e._format=this._format,e._enum=this._enum,e._minLength=this._minLength,e._maxLength=this._maxLength,e}getJsonSchemaProperty(){const e=super.getJsonSchemaProperty();return this._format&&(e.format=this._format),this._enum&&(e.enum=this._enum),this._minLength&&(e.minLength=this._minLength),this._maxLength&&(e.maxLength=this._maxLength),e}minLength(e){const t=this.clone();return t._minLength=e,t}maxLength(e){const t=this.clone();return t._maxLength=e,t}enumeration(e){const t=this.clone();return t._enum=[...e],t}format(e){const t=this.clone();return t._format=e,t}color(){return this.format("color")}date(){return this.format("date")}email(){return this.format("email")}password(){return this.format("password")}textarea(){return this.format("textarea")}url(){return this.format("url")}isCorrectType(e){return"string"==typeof e}getTypeName(){return"string"}validateCorrectType(e,t,s){this._enum&&!this._enum.includes(t)&&s.push(new n(e,`Value has to be one of the following: ${this._enum.join(", ")}`)),"number"==typeof this._minLength&&t.length<this._minLength&&s.push(new n(e,`Value must be longer than ${this._minLength} characters.`)),"number"==typeof this._maxLength&&t.length>this._maxLength&&s.push(new n(e,`Value must be shorter than ${this._maxLength} characters.`)),"color"!==this._format||/^#?[0-9a-f]{3,6}$/i.test(t)||s.push(new n(e,"Value must be a color hex code.")),"date"===this._format&&Number.isNaN(Date.parse(t))&&s.push(new n(e,"Value must be a date.")),"email"!==this._format||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(t)||s.push(new n(e,"Value must be an email.")),"url"!==this._format||/^https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_\+.~#?&\/=]*)$/.test(t)||s.push(new n(e,"Value must be a URL."))}}t.TschString=i;class o extends s{constructor(){super("number"),this._integer=!1,this._min=null,this._max=null}newInstance(){return new o}clone(){const e=super.clone();return e._integer=this._integer,e._min=this._min,e._max=this._max,e}integer(){const e=this.clone();return e._integer=!0,e}min(e){const t=this.clone();return t._min=e,t}max(e){const t=this.clone();return t._max=e,t}getJsonSchemaProperty(){const e=super.getJsonSchemaProperty();return this._integer&&(e.type="integer"),null!==this._min&&(e.minimum=this._min),null!==this._max&&(e.maximum=this._max),e}isCorrectType(e){return"number"==typeof e}getTypeName(){return"number"}validateCorrectType(e,t,s){this._integer&&!Number.isInteger(t)&&s.push(new n(e,"Value has to be an integer.")),"number"==typeof this._min&&t<this._min&&s.push(new n(e,`Value must be at least ${this._min}.`)),"number"==typeof this._max&&t>this._max&&s.push(new n(e,`Value must be at less than ${this._max}.`))}}t.TschNumber=o;class r extends s{constructor(){super("boolean")}newInstance(){return new r}clone(){return super.clone()}isCorrectType(e){return"boolean"==typeof e}getTypeName(){return"boolean"}validateCorrectType(e,t,n){}}t.TschBoolean=r;class l extends s{constructor(){super("null")}newInstance(){return new l}clone(){return super.clone()}isCorrectType(e){return null===e}getTypeName(){return"null"}validateCorrectType(e,t,n){}}t.TschNull=l;class a extends s{constructor(){super("undefined")}newInstance(){return new a}clone(){return super.clone()}isCorrectType(e){return void 0===e}getTypeName(){return"undefined"}validateCorrectType(e,t,n){}}t.TschUndefined=a;class u extends s{constructor(e,t){super(`union_${e._type}_${t._type}`),this.type1=e,this.type2=t}Type1Internal(){return this.type1}Type2Internal(){return this.type2}newInstance(){return new u(this.type1.clone(),this.type2.clone())}clone(){const e=super.clone();return e.type1=this.Type1Internal().clone(),e.type2=this.Type2Internal().clone(),e}getJsonSchemaProperty(){var e,t,n,s;const i="undefined"===this.Type1Internal()._type?{}:this.type1.getJsonSchemaProperty(),o="undefined"===this.Type2Internal()._type?{}:this.type2.getJsonSchemaProperty(),r=Object.assign(Object.assign({},i),o);return r.type=[...Array.isArray(i.type)?i.type:[i.type],...Array.isArray(o.type)?o.type:[o.type]].filter((e=>!!e&&"undefined"!==e)),r.type.length<2&&(r.type=r.type[0]),i.properties&&o.properties&&(r.properties=Object.assign(Object.assign({},null!==(e=i.properties)&&void 0!==e?e:{}),null!==(t=o.properties)&&void 0!==t?t:{}),i.required&&o.required?r.required=i.required.filter((e=>{var t;return null===(t=o.required)||void 0===t?void 0:t.includes(e)})):r.required=null!==(s=null!==(n=i.required)&&void 0!==n?n:o.required)&&void 0!==s?s:[]),this._title&&(r.title=this._title),this._description&&(r.description=this._description),this._default&&(r.default=this._default),r}isNullable(){return"null"===this.Type1Internal()._type||"null"===this.Type2Internal()._type||this.Type1Internal().isNullable()||this.Type2Internal().isNullable()}isOptional(){return"undefined"===this.Type1Internal()._type||"undefined"===this.Type2Internal()._type||this.Type1Internal().isOptional()||this.Type2Internal().isOptional()}isCorrectType(e){return this.Type1Internal().isCorrectType(e)||this.Type2Internal().isCorrectType(e)}getTypeName(){return`${this.type1.getTypeName()} or ${this.type2.getTypeName()}`}validateCorrectType(e,t,n){this.Type1Internal().isCorrectType(t)&&this.Type1Internal().validateInternal(e,t,n),this.Type2Internal().isCorrectType(t)&&this.Type2Internal().validateInternal(e,t,n)}}t.TschUnion=u;class h extends s{constructor(e){super("object"),this.objectShape=null!=e?e:{}}newInstance(){return new h(this.objectShape)}clone(){const e=super.clone();return e.objectShape=this.objectShape,e}shape(e){const t=this.clone();return t.objectShape=e,t}getJsonSchemaProperty(){const e=super.getJsonSchemaProperty();e.required=Object.keys(this.objectShape).filter((e=>!this.objectShape[e].isOptional())),e.properties={};for(const t in this.objectShape)e.properties[t]=this.objectShape[t].getJsonSchemaProperty();return e}isCorrectType(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}getTypeName(){return"object"}validateCorrectType(e,t,s){for(const i in this.objectShape){const o=this.objectShape[i];o.isOptional()||t.hasOwnProperty(i)||s.push(new n(e,`Property ${i} of type ${o.getTypeName()} is required.`)),t.hasOwnProperty(i)&&o.validateInternal([...e,i],t[i],s)}}}t.TschObject=h;class c extends s{constructor(e){super("array"),this.elementType=null!=e?e:new a,this._format=null,this._minElementCount=null,this._maxElementCount=null,this._unique=!1}newInstance(){return new c(this.elementType)}clone(){const e=super.clone();return e.elementType=this.elementType,e._format=this._format,e._unique=this._unique,e._minElementCount=this._minElementCount,e._maxElementCount=this._maxElementCount,e}getJsonSchemaProperty(){const e=super.getJsonSchemaProperty();return e.items=this.elementType.getJsonSchemaProperty(),this._format&&(e.format=this._format),this._unique&&(e.uniqueItems=this._unique),this._minElementCount&&(e.minItems=this._minElementCount),this._maxElementCount&&(e.maxItems=this._maxElementCount),e}element(e){const t=this.clone();return t.elementType=e,t}table(){const e=this.clone();return e._format="table",e}minElements(e){const t=this.clone();return t._minElementCount=e,t}maxElements(e){const t=this.clone();return t._maxElementCount=e,t}unique(){const e=this.clone();return e._unique=!0,e}isCorrectType(e){return"object"==typeof e&&null!==e&&Array.isArray(e)}getTypeName(){return`array of ${this.elementType.getTypeName()}`}validateCorrectType(e,t,s){const i=this.elementType,o=new Set;"number"==typeof this._minElementCount&&t.length<this._minElementCount&&s.push(new n(e,`Array must contain at least ${this._minElementCount} elements.`)),"number"==typeof this._maxElementCount&&t.length>this._maxElementCount&&s.push(new n(e,`Array must contain at most ${this._maxElementCount} elements.`));for(let r=0;r<t.length;r++){const l=t[r];if(i.validateInternal([...e,r.toString()],l,s),this._unique){const t=JSON.stringify(l);o.has(t)&&s.push(new n(e,"All values have to be unique.")),o.add(t)}}}}t.TschArray=c},936:function(e,t,n){var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,s,i)}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.tsch=void 0;const r=o(n(958));t.tsch=r},958:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.array=t.object=t.boolean=t.number=t.string=void 0;const s=n(290);t.string=function(){return new s.TschString},t.number=function(){return new s.TschNumber},t.boolean=function(){return new s.TschBoolean},t.object=function(e){return new s.TschObject(e)},t.array=function(e){return new s.TschArray(e)}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var o=t[s]={exports:{}};return e[s].call(o.exports,o,o.exports,n),o.exports}(()=>{const e=n(936),t=n(671),s=e.tsch.object({name:e.tsch.string().description("First and Last Name").minLength(4).maxLength(6).default("Jeremy Dorn").nullable(),age:e.tsch.number().integer().default(25).min(18).max(99).optional().title("Age").union(e.tsch.string()),favorite_color:e.tsch.string().color().title("favorite color").default("#ffa500").examples(["#ff0000","#00ff00"]),gender:e.tsch.string().enumeration(["male","female","other"]),date:e.tsch.string().date(),alive:e.tsch.boolean().default(!0).nullable().title("Alive").description("If checked, this person is still alive"),description:e.tsch.string().textarea(),password:e.tsch.string().password(),website:e.tsch.string().url(),email:e.tsch.string().email(),location:e.tsch.object({city:e.tsch.string().default("San Francisco"),state:e.tsch.string().default("CA")}).title("Location"),pets:e.tsch.array(e.tsch.object({type:e.tsch.string().enumeration(["cat","dog","bird","reptile","other"]).default("dog"),name:e.tsch.string()}).title("Pet")).unique().table().default([{type:"dog",name:"Walter"}]).minElements(1).maxElements(3)}).title("Person"),i=s.getJsonSchemaProperty(),o=document.querySelector("#root");if(o){const e=new t.JsonTool(o);e.load(i,{test:123},(e=>s.validate(e))),window.getValue=()=>e.getValue()}})()})();
//# sourceMappingURL=main.js.map