{"version":3,"file":"docs/js/main.js","mappings":"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","sources":["webpack://@wanieru/json-tool/./js/JsonTool.js","webpack://@wanieru/json-tool/./node_modules/tsch/dist/TschType.js","webpack://@wanieru/json-tool/./node_modules/tsch/dist/index.js","webpack://@wanieru/json-tool/./node_modules/tsch/dist/tsch.js","webpack://@wanieru/json-tool/webpack/bootstrap","webpack://@wanieru/json-tool/./js/www.js"],"sourcesContent":["\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JsonTool = void 0;\r\nclass JsonTool {\r\n    constructor(element, validator = null) {\r\n        var _a, _b;\r\n        this.elementState = {};\r\n        this.undoStack = [];\r\n        this.redoStack = [];\r\n        this.undoing = false;\r\n        this.containerElement = element;\r\n        this.validator = validator !== null && validator !== void 0 ? validator : (() => { return { valid: true }; });\r\n        this.schema = null;\r\n        this.root = document.createElement(\"div\");\r\n        this.root.style.fontFamily = \"monospace\";\r\n        this.root.style.marginLeft = \"30px\";\r\n        this.root.classList.add(\"json-tool\");\r\n        this.rootObject = null;\r\n        this.rootElement = null;\r\n        this.errorMessages = document.createElement(\"div\");\r\n        this.errorMessages.classList.add(\"json-tool-errors\");\r\n        const undoRedoButtons = document.createElement(\"div\");\r\n        this.undoButton = document.createElement(\"button\");\r\n        this.undoButton.innerText = \"⤶ Undo\";\r\n        this.undoButton.onclick = () => this.undo();\r\n        undoRedoButtons.appendChild(this.undoButton);\r\n        this.redoButton = document.createElement(\"button\");\r\n        this.redoButton.innerText = \"⤷ Redo\";\r\n        this.redoButton.style.marginLeft = \"5px\";\r\n        this.redoButton.onclick = () => this.redo();\r\n        undoRedoButtons.appendChild(this.redoButton);\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.style.width = \"100%\";\r\n        iframe.style.height = \"100%\";\r\n        iframe.style.overflow = \"scroll\";\r\n        iframe.style.border = \"0\";\r\n        element.innerHTML = \"\";\r\n        element.appendChild(iframe);\r\n        this.iframeBody = (_b = (iframe.contentDocument || ((_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.document))) === null || _b === void 0 ? void 0 : _b.querySelector(\"body\");\r\n        this.iframeBody.append(this.root);\r\n        this.createCss(this.iframeBody);\r\n        iframe.onload = () => {\r\n            var _a, _b;\r\n            this.iframeBody = (_b = (iframe.contentDocument || ((_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.document))) === null || _b === void 0 ? void 0 : _b.querySelector(\"body\");\r\n            this.iframeBody.append(undoRedoButtons);\r\n            this.iframeBody.append(this.root);\r\n            this.createCss(this.iframeBody);\r\n            this.iframeBody.appendChild(this.errorMessages);\r\n        };\r\n    }\r\n    deleteChild(key) {\r\n    }\r\n    getState() {\r\n        return this.elementState;\r\n    }\r\n    load(schema, value, validator) {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            this.validator = validator !== null && validator !== void 0 ? validator : this.validator;\r\n            this.schema = schema;\r\n            this.root.innerHTML = \"\";\r\n            if (schema.title) {\r\n                const title = document.createElement(\"h3\");\r\n                title.textContent = schema.title;\r\n                JsonElement.addDescription(title, schema.description, schema === null || schema === void 0 ? void 0 : schema.examples);\r\n                this.root.appendChild(title);\r\n            }\r\n            this.rootObject = document.createElement(\"div\");\r\n            this.root.appendChild(this.rootObject);\r\n            this.rootElement = new JsonElement(\"\", \"root\", this.rootObject, this.schema, value, this);\r\n            yield this.validate();\r\n        });\r\n    }\r\n    hide() {\r\n        this.containerElement.innerHTML = \"\";\r\n    }\r\n    setValidator(validator) {\r\n        this.validator = validator;\r\n    }\r\n    getValue() {\r\n        var _a;\r\n        return (_a = this.rootElement) === null || _a === void 0 ? void 0 : _a.getValue();\r\n    }\r\n    update() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (!this.rootObject)\r\n                return;\r\n            let number = 1;\r\n            (_a = this.rootObject) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".line-number\").forEach(e => {\r\n                e.innerText = number.toString();\r\n                number++;\r\n            });\r\n            yield this.validate();\r\n        });\r\n    }\r\n    validate() {\r\n        var _a;\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            yield new Promise(resolve => window.setTimeout(resolve, 1));\r\n            if (!this.schema || !this.errorMessages)\r\n                return;\r\n            const valid = this.validator(this.getValue(), this.schema);\r\n            this.errorMessages.innerHTML = \"\";\r\n            if (!valid.valid) {\r\n                this.errorMessages.innerHTML = ((_a = valid.errors) !== null && _a !== void 0 ? _a : []).map(e => typeof e === \"string\" ? e : e.message).join(\"\\n\");\r\n            }\r\n            yield this.pushUndoState();\r\n        });\r\n    }\r\n    pushUndoState() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.undoing)\r\n                return;\r\n            this.undoing = true;\r\n            yield new Promise(resolve => window.setTimeout(resolve, 1));\r\n            const value = this.getValue();\r\n            if (this.undoStack.length > 0 && JSON.stringify(value) === JSON.stringify(this.undoStack[0])) {\r\n                this.undoing = false;\r\n                return;\r\n            }\r\n            this.undoStack.unshift(value);\r\n            this.redoStack = [];\r\n            this.undoing = false;\r\n            this.updateUndoRedoButtons();\r\n        });\r\n    }\r\n    undo() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.undoStack.length < 2 || this.undoing || !this.schema)\r\n                return;\r\n            this.undoing = true;\r\n            this.redoStack.unshift(this.getValue());\r\n            this.undoStack.splice(0, 1);\r\n            const value = this.undoStack[0];\r\n            yield this.load(this.schema, value, this.validator);\r\n            this.undoing = false;\r\n            this.updateUndoRedoButtons();\r\n        });\r\n    }\r\n    redo() {\r\n        return __awaiter(this, void 0, void 0, function* () {\r\n            if (this.redoStack.length < 1 || this.undoing || !this.schema)\r\n                return;\r\n            this.undoing = true;\r\n            const value = this.redoStack.splice(0, 1)[0];\r\n            this.undoStack.unshift(value);\r\n            yield this.load(this.schema, value, this.validator);\r\n            this.undoing = false;\r\n            this.updateUndoRedoButtons();\r\n        });\r\n    }\r\n    updateUndoRedoButtons() {\r\n        this.undoButton.disabled = this.undoStack.length < 2;\r\n        this.redoButton.disabled = this.redoStack.length < 1;\r\n    }\r\n    createCss(parent) {\r\n        const style = document.createElement(\"style\");\r\n        parent.appendChild(style);\r\n        style.innerHTML =\r\n            `\r\n            .json-tool-btn\r\n             {\r\n                border: 1px black solid;\r\n                cursor: pointer;\r\n                display: block;\r\n             }\r\n              .json-tool-block > .json-tool-btn {\r\n                margin-top: -17px;\r\n                margin-left: -40px;\r\n                position: absolute;\r\n                opacity: 0;\r\n              }\r\n              .json-tool-block:hover > .json-tool-btn\r\n              {\r\n                opacity: 1;\r\n              }\r\n              .json-tool-value > .json-tool-btn {\r\n                margin-left: 10px;\r\n                display: inline-block;\r\n                position: absolute;\r\n                opacity :0;\r\n              }\r\n              .json-tool-value:hover > .json-tool-btn\r\n              {\r\n                opacity :1;\r\n              }\r\n              .json-tool-key > .json-tool-btns {\r\n                margin-left: -36px;\r\n                display: inline-block;\r\n                position: absolute;\r\n                width: 32px;\r\n                text-align: right;\r\n                opacity: 0;\r\n              }\r\n              .json-tool-key:hover > .json-tool-btns\r\n              {\r\n                opacity: 1;\r\n              }\r\n\r\n              .json-tool-key > .json-tool-btns > .json-tool-btn {\r\n                display: inline-block;\r\n                margin-right: 2px;\r\n              }\r\n              .json-tool-types > .json-tool-type\r\n              {\r\n                padding:0;\r\n                margin:0;\r\n                border:0;\r\n              }\r\n              .json-tool-value > .json-tool-types\r\n              {\r\n                float:right;\r\n                opacity: 0;\r\n              }\r\n              .json-tool-value.json-tool-object > .json-tool-types\r\n              {\r\n                float:none;\r\n                position: absolute;\r\n                margin-left: 15px;\r\n              }\r\n              .json-tool-value:hover > .json-tool-types\r\n              {\r\n                opacity: 1;\r\n              }\r\n\r\n              .json-tool-block.opened > .json-tool-key {display: block}\r\n              .json-tool-block.closed > .json-tool-key {display: none}\r\n\r\n              .line-number\r\n              {\r\n                position: absolute;\r\n                left: 0;\r\n                text-align: right;\r\n                width: 20px;\r\n              }\r\n              .json-tool-value.json-tool-object > .line-number\r\n              {\r\n                margin-top: -15px;\r\n              }\r\n              .json-tool input, .json-tool select, .json-tool textarea\r\n              {\r\n                border: 0;\r\n                background-color: #ece9e9;\r\n                padding: 0;\r\n                margin: 1px;\r\n              }\r\n\r\n                .json-tool-errors {\r\n                    color: red;\r\n                    white-space: pre;\r\n                    font-family: monospace;\r\n                    line-height: 2em;\r\n                    font-weight: bold;\r\n                    font-size: 1.2em;\r\n                }\r\n`;\r\n    }\r\n}\r\nexports.JsonTool = JsonTool;\r\nclass JsonElement {\r\n    constructor(key, path, element, schema, value, parent) {\r\n        this.arrayElements = [];\r\n        this.objectElements = {};\r\n        this.element = element;\r\n        this.setStyle();\r\n        this.schema = schema;\r\n        this.parent = parent;\r\n        this.key = key;\r\n        this.path = path;\r\n        this.currentValues = {};\r\n        this.types = schema ? JsonElement.getDefaultAvailableTypes(schema) : [];\r\n        const actualType = JsonElement.getType(value);\r\n        this.currentType = \"\";\r\n        if (actualType !== \"undefined\") {\r\n            this.currentType = actualType;\r\n            this.types.push(actualType);\r\n            this.setCurrentTypeValue(value);\r\n        }\r\n        else if (this.schema) {\r\n            const def = JsonElement.getDefaultValue(this.schema);\r\n            this.currentType = def.type;\r\n            this.setCurrentTypeValue(def.value);\r\n        }\r\n        this.types = [...new Set(this.types)];\r\n        this.updateElement();\r\n    }\r\n    update() {\r\n        this.parent.update();\r\n    }\r\n    validate() {\r\n        this.parent.validate();\r\n    }\r\n    getPath(element) {\r\n        for (let i = 0; i < this.arrayElements.length; i++) {\r\n            if (this.arrayElements[i] === element)\r\n                return `${this.path}.${i}`;\r\n        }\r\n        for (const key in this.objectElements) {\r\n            if (this.objectElements[key] === element)\r\n                return `${this.path}.${key}`;\r\n        }\r\n        return `${this.path}.?`;\r\n    }\r\n    getState() {\r\n        return this.parent.getState();\r\n    }\r\n    deleteChild(key) {\r\n        if (typeof key === \"string\") {\r\n            const val = this.getValue();\r\n            delete val[key];\r\n            this.setCurrentTypeValue(val);\r\n            this.updateElement();\r\n        }\r\n        else if (typeof key === \"number\") {\r\n            const arr = [...this.getValue()];\r\n            arr.splice(key, 1);\r\n            this.setCurrentTypeValue(arr);\r\n            this.updateElement();\r\n        }\r\n    }\r\n    setCurrentTypeValue(value) {\r\n        this.currentValues[this.currentType] = typeof value !== \"undefined\" ? JSON.parse(JSON.stringify(value)) : undefined;\r\n        if (this.validate)\r\n            this.validate();\r\n    }\r\n    static addDescription(element, description, examples) {\r\n        if (examples) {\r\n            description = `${description ? `${description}\\n` : \"\"}Examples:\\n${examples.map(e => JSON.stringify(e)).join(\",\\n\")}`;\r\n        }\r\n        if (description) {\r\n            element.title = description;\r\n            element.style.textDecoration = \"underline dotted\";\r\n            element.style.cursor = \"help\";\r\n        }\r\n    }\r\n    static getType(value) {\r\n        if (typeof value === \"undefined\")\r\n            return \"undefined\";\r\n        if (Array.isArray(value)) {\r\n            return \"array\";\r\n        }\r\n        else if (value === null) {\r\n            return \"null\";\r\n        }\r\n        else {\r\n            return typeof value;\r\n        }\r\n    }\r\n    static isInteger(schema) {\r\n        if (!schema)\r\n            return false;\r\n        const arr = Array.isArray(schema.type) ? schema.type : [schema.type];\r\n        return arr.includes(\"integer\") && !arr.includes(\"number\");\r\n    }\r\n    static getDefaultAvailableTypes(schema) {\r\n        let types = Array.isArray(schema.type) ? [...schema.type] : [schema.type];\r\n        types = types.map(t => {\r\n            if (t === \"integer\")\r\n                return \"number\";\r\n            return t;\r\n        });\r\n        return types;\r\n    }\r\n    static getDefaultValue(schema) {\r\n        const availableTypes = this.getDefaultAvailableTypes(schema);\r\n        if (typeof schema.default !== \"undefined\") {\r\n            return { type: this.getType(schema.default), value: schema.default };\r\n        }\r\n        else if (schema.examples && schema.examples.length > 0) {\r\n            return { type: this.getType(schema.examples[0]), value: schema.examples[0] };\r\n        }\r\n        else if (availableTypes.length > 0) {\r\n            return { type: availableTypes[0], value: this.getDefaultValueForType(schema, availableTypes[0]) };\r\n        }\r\n        else {\r\n            return { type: \"null\", value: this.getDefaultValueForType(schema, \"null\") };\r\n        }\r\n    }\r\n    static getDefaultValueForType(schema, type) {\r\n        var _a, _b, _c;\r\n        if (type === \"json\") {\r\n            return null;\r\n        }\r\n        else if (type === \"null\") {\r\n            return null;\r\n        }\r\n        else if (type === \"number\") {\r\n            return this.isInteger(schema) ? Math.ceil((_a = schema === null || schema === void 0 ? void 0 : schema.minimum) !== null && _a !== void 0 ? _a : 0) : (_b = schema === null || schema === void 0 ? void 0 : schema.minimum) !== null && _b !== void 0 ? _b : 0;\r\n        }\r\n        else if (type === \"string\") {\r\n            if (schema === null || schema === void 0 ? void 0 : schema.enum)\r\n                return schema.enum[0];\r\n            if ((schema === null || schema === void 0 ? void 0 : schema.format) === \"color\")\r\n                return \"#000000\";\r\n            if ((schema === null || schema === void 0 ? void 0 : schema.format) === \"date\")\r\n                return new Date().toDateString();\r\n            return \"\";\r\n        }\r\n        else if (type === \"boolean\") {\r\n            return false;\r\n        }\r\n        else if (type === \"array\") {\r\n            return [];\r\n        }\r\n        else if (type === \"object\") {\r\n            const obj = {};\r\n            if (schema === null || schema === void 0 ? void 0 : schema.properties) {\r\n                for (const required of (_c = schema.required) !== null && _c !== void 0 ? _c : []) {\r\n                    if (!schema.properties.hasOwnProperty(required))\r\n                        continue;\r\n                    const def = this.getDefaultValue(schema.properties[required]);\r\n                    obj[required] = def.value;\r\n                }\r\n            }\r\n            return obj;\r\n        }\r\n    }\r\n    updateElement() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2, _3, _4;\r\n        this.objectElements = {};\r\n        this.arrayElements = [];\r\n        this.element.innerHTML = \"\";\r\n        this.element.style.display = \"inline-block\";\r\n        this.element.classList.remove(\"json-tool-object\");\r\n        this.element.append(this.createLineNumber());\r\n        const type = this.currentType;\r\n        const val = (_a = this.currentValues[type]) !== null && _a !== void 0 ? _a : (this.currentValues[type] = JsonElement.getDefaultValueForType(this.schema, type));\r\n        const typeDiv = document.createElement(\"div\");\r\n        typeDiv.classList.add(\"json-tool-types\");\r\n        this.element.append(typeDiv);\r\n        if (this.types.length > 1 || type !== this.types[0]) {\r\n            const select = document.createElement(\"select\");\r\n            select.classList.add(\"json-tool-type\");\r\n            for (const t of this.types) {\r\n                const option = document.createElement(\"option\");\r\n                option.innerText = t;\r\n                option.value = t;\r\n                select.append(option);\r\n            }\r\n            select.value = this.currentType;\r\n            select.onchange = () => {\r\n                this.changeType(select.value);\r\n            };\r\n            typeDiv.append(select);\r\n        }\r\n        const changeTypeButton = document.createElement(\"div\");\r\n        changeTypeButton.classList.add(\"json-tool-btn\");\r\n        changeTypeButton.style.display = \"inline-block\";\r\n        changeTypeButton.style.marginLeft = \"5px\";\r\n        changeTypeButton.innerText = \"*\";\r\n        changeTypeButton.onclick = () => {\r\n            var _a;\r\n            const validTypes = [\"object\", \"array\", \"boolean\", \"string\", \"number\", \"null\", \"undefined\", \"json\"];\r\n            const newType = (_a = window.prompt(`Enter new type:\\n${validTypes.join(\", \")}`)) !== null && _a !== void 0 ? _a : \"\";\r\n            if (validTypes.includes(newType)) {\r\n                if (newType === \"undefined\") {\r\n                    this.parent.deleteChild(this.key);\r\n                }\r\n                else {\r\n                    this.changeType(newType);\r\n                }\r\n            }\r\n        };\r\n        typeDiv.append(changeTypeButton);\r\n        if (type === \"object\") {\r\n            this.element.append(this.createLineNumber(true));\r\n            this.element.style.display = \"block\";\r\n            this.element.classList.add(\"json-tool-object\");\r\n            this.element.append(\"{\");\r\n            const object = this.createBlock();\r\n            this.element.append(object);\r\n            const add = document.createElement(\"div\");\r\n            add.classList.add(\"json-tool-btn\");\r\n            add.innerText = \"+\";\r\n            this.element.append(add);\r\n            add.onclick = () => {\r\n                const key = prompt(\"Add new key?\");\r\n                if (!!key) {\r\n                    const val = this.getValue();\r\n                    val[key] = null;\r\n                    this.setCurrentTypeValue(val);\r\n                    this.updateElement();\r\n                }\r\n            };\r\n            this.element.append(\"}\");\r\n            this.element.append(this.createLineNumber());\r\n            for (const key in val !== null && val !== void 0 ? val : {}) {\r\n                const obj = this.createObjectKeyValuePair(key, ((_b = this.schema) === null || _b === void 0 ? void 0 : _b.properties) ? this.schema.properties[key] : null, val[key]);\r\n                object.append(obj);\r\n                const buttons = document.createElement(\"div\");\r\n                obj.prepend(buttons);\r\n                buttons.classList.add(\"json-tool-btns\");\r\n                if (((_c = this.schema) === null || _c === void 0 ? void 0 : _c.properties) && !this.schema.properties.hasOwnProperty(key)) {\r\n                    const remove = document.createElement(\"div\");\r\n                    remove.classList.add(\"json-tool-btn\");\r\n                    remove.innerText = \"X\";\r\n                    remove.onclick = () => {\r\n                        if (!confirm(`Are you sure you want to delete the key ${key}?`))\r\n                            return;\r\n                        this.deleteChild(key);\r\n                    };\r\n                    buttons.append(remove);\r\n                }\r\n                else if (!((_e = (_d = this.schema) === null || _d === void 0 ? void 0 : _d.required) === null || _e === void 0 ? void 0 : _e.includes(key))) {\r\n                    const remove = document.createElement(\"div\");\r\n                    remove.classList.add(\"json-tool-btn\");\r\n                    remove.innerText = \"∽\";\r\n                    remove.onclick = () => {\r\n                        if (!confirm(`Are you sure you want to delete the key ${key}?`))\r\n                            return;\r\n                        this.deleteChild(key);\r\n                    };\r\n                    buttons.append(remove);\r\n                }\r\n            }\r\n            if ((_f = this.schema) === null || _f === void 0 ? void 0 : _f.properties) {\r\n                for (const key in this.schema.properties) {\r\n                    if (val === null || val === void 0 ? void 0 : val.hasOwnProperty(key))\r\n                        continue;\r\n                    const obj = this.createObjectKeyValuePair(key, this.schema.properties[key], undefined, true);\r\n                    object.append(obj);\r\n                    obj.style.textDecoration = \"line-through 2px\";\r\n                    const buttons = document.createElement(\"div\");\r\n                    obj.prepend(buttons);\r\n                    buttons.classList.add(\"json-tool-btns\");\r\n                    const add = document.createElement(\"div\");\r\n                    add.classList.add(\"json-tool-btn\");\r\n                    add.innerText = \"≁\";\r\n                    add.onclick = () => {\r\n                        var _a;\r\n                        if ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.properties) {\r\n                            const val = this.getValue();\r\n                            val[key] = JsonElement.getDefaultValue(this.schema.properties[key]).value;\r\n                            this.setCurrentTypeValue(val);\r\n                            this.updateElement();\r\n                        }\r\n                    };\r\n                    buttons.append(add);\r\n                }\r\n            }\r\n        }\r\n        else if (type === \"array\") {\r\n            this.element.append(this.createLineNumber(true));\r\n            this.element.style.display = \"block\";\r\n            this.element.classList.add(\"json-tool-object\");\r\n            this.element.append(\"[\");\r\n            const array = this.createBlock();\r\n            this.element.append(array);\r\n            const add = document.createElement(\"div\");\r\n            add.classList.add(\"json-tool-btn\");\r\n            add.innerText = \"+\";\r\n            this.element.append(add);\r\n            add.onclick = () => {\r\n                var _a, _b;\r\n                const val = [...this.getValue()];\r\n                if (val.length === ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.maxItems) && !confirm(`This array is at max capacity - really add more?`))\r\n                    return;\r\n                const defaultValue = ((_b = this.schema) === null || _b === void 0 ? void 0 : _b.items) ? JsonElement.getDefaultValue(this.schema.items).value : null;\r\n                val.push(defaultValue);\r\n                this.currentType = type;\r\n                this.setCurrentTypeValue(val);\r\n                this.setIsOpened(true);\r\n                this.updateElement();\r\n            };\r\n            this.element.append(\"]\");\r\n            this.element.append(this.createLineNumber());\r\n            const arr = val !== null && val !== void 0 ? val : [];\r\n            for (let i = 0; i < arr.length; i++) {\r\n                const idx = i;\r\n                const obj = this.createObjectKeyValuePair(i, ((_g = this.schema) === null || _g === void 0 ? void 0 : _g.items) ? this.schema.items : null, val[i]);\r\n                array.append(obj);\r\n                const buttons = document.createElement(\"div\");\r\n                obj.prepend(buttons);\r\n                buttons.classList.add(\"json-tool-btns\");\r\n                const remove = document.createElement(\"div\");\r\n                remove.classList.add(\"json-tool-btn\");\r\n                remove.innerText = \"X\";\r\n                remove.onclick = () => {\r\n                    var _a;\r\n                    const arr = [...this.getValue()];\r\n                    if (arr.length === ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.minItems)) {\r\n                        alert(`${this.path} needs at least ${arr.length} elements.`);\r\n                        return;\r\n                    }\r\n                    if (!confirm(`Are you sure you want to delete element ${idx}?`))\r\n                        return;\r\n                    this.deleteChild(idx);\r\n                };\r\n                buttons.append(remove);\r\n                const up = document.createElement(\"div\");\r\n                up.classList.add(\"json-tool-btn\");\r\n                up.innerText = \"ᐃ\";\r\n                up.onclick = () => {\r\n                    let arr = [...this.getValue()];\r\n                    const element = arr.splice(idx, 1);\r\n                    arr = arr.slice(0, idx - 1).concat(element).concat(arr.slice(idx - 1));\r\n                    this.setCurrentTypeValue(arr);\r\n                    this.updateElement();\r\n                };\r\n                buttons.append(up);\r\n                const down = document.createElement(\"div\");\r\n                down.classList.add(\"json-tool-btn\");\r\n                down.innerText = \"ᐁ\";\r\n                down.onclick = () => {\r\n                    let arr = [...this.getValue()];\r\n                    const element = arr.splice(idx, 1);\r\n                    arr = arr.slice(0, idx + 1).concat(element).concat(arr.slice(idx + 1));\r\n                    this.setCurrentTypeValue(arr);\r\n                    this.updateElement();\r\n                };\r\n                buttons.append(down);\r\n            }\r\n        }\r\n        else if (type === \"boolean\") {\r\n            const checkbox = document.createElement(\"input\");\r\n            checkbox.type = \"checkbox\";\r\n            checkbox.checked = val;\r\n            checkbox.onchange = () => {\r\n                this.setCurrentTypeValue(checkbox.checked);\r\n            };\r\n            this.element.append(checkbox);\r\n        }\r\n        else if (type === \"string\") {\r\n            if ((_h = this.schema) === null || _h === void 0 ? void 0 : _h.enum) {\r\n                const select = document.createElement(\"select\");\r\n                for (const value of [...new Set(this.schema.enum.concat(val))]) {\r\n                    const option = document.createElement(\"option\");\r\n                    option.innerText = value;\r\n                    option.value = value;\r\n                    select.append(option);\r\n                }\r\n                select.value = val;\r\n                select.onchange = () => {\r\n                    this.setCurrentTypeValue(select.value);\r\n                };\r\n                this.element.append(select);\r\n            }\r\n            else if (((_j = this.schema) === null || _j === void 0 ? void 0 : _j.format) === \"textarea\") {\r\n                const input = document.createElement(\"textarea\");\r\n                input.value = val;\r\n                input.minLength = (_l = (_k = this.schema) === null || _k === void 0 ? void 0 : _k.minLength) !== null && _l !== void 0 ? _l : 0;\r\n                input.maxLength = (_o = (_m = this.schema) === null || _m === void 0 ? void 0 : _m.maxLength) !== null && _o !== void 0 ? _o : 99999999999999;\r\n                input.onchange = () => {\r\n                    this.setCurrentTypeValue(input.value);\r\n                };\r\n                this.element.append(input);\r\n            }\r\n            else if (((_p = this.schema) === null || _p === void 0 ? void 0 : _p.format) === \"date\") {\r\n                const input = document.createElement(\"input\");\r\n                input.type = \"date\";\r\n                input.onchange = () => {\r\n                    var _a, _b;\r\n                    this.setCurrentTypeValue((_b = (_a = input.valueAsDate) === null || _a === void 0 ? void 0 : _a.toDateString()) !== null && _b !== void 0 ? _b : \"\");\r\n                };\r\n                this.element.append(input);\r\n                input.valueAsDate = new Date(val);\r\n            }\r\n            else {\r\n                const input = document.createElement(\"input\");\r\n                input.type = \"text\";\r\n                if (((_q = this.schema) === null || _q === void 0 ? void 0 : _q.format) && [\"password\", \"email\", \"color\", \"url\"].includes(this.schema.format))\r\n                    input.type = this.schema.format;\r\n                input.value = val;\r\n                input.minLength = (_s = (_r = this.schema) === null || _r === void 0 ? void 0 : _r.minLength) !== null && _s !== void 0 ? _s : 0;\r\n                input.maxLength = (_u = (_t = this.schema) === null || _t === void 0 ? void 0 : _t.maxLength) !== null && _u !== void 0 ? _u : 99999999999999;\r\n                input.onchange = () => {\r\n                    this.setCurrentTypeValue(input.value);\r\n                };\r\n                this.element.append(input);\r\n            }\r\n        }\r\n        else if (type === \"null\") {\r\n            this.element.append(\"null\");\r\n        }\r\n        else if (type === \"number\") {\r\n            const input = document.createElement(\"input\");\r\n            input.type = \"number\";\r\n            input.value = val.toString();\r\n            input.min = (_x = (_w = (_v = this.schema) === null || _v === void 0 ? void 0 : _v.minimum) === null || _w === void 0 ? void 0 : _w.toString()) !== null && _x !== void 0 ? _x : \"\";\r\n            input.max = (_0 = (_z = (_y = this.schema) === null || _y === void 0 ? void 0 : _y.maximum) === null || _z === void 0 ? void 0 : _z.toString()) !== null && _0 !== void 0 ? _0 : \"\";\r\n            if (JsonElement.isInteger(this.schema))\r\n                input.step = \"1\";\r\n            input.onchange = () => {\r\n                this.setCurrentTypeValue(parseFloat(input.value));\r\n            };\r\n            this.element.append(input);\r\n        }\r\n        else if (type === \"json\") {\r\n            const input = document.createElement(\"textarea\");\r\n            input.value = JSON.stringify(val, null, 3);\r\n            input.minLength = (_2 = (_1 = this.schema) === null || _1 === void 0 ? void 0 : _1.minLength) !== null && _2 !== void 0 ? _2 : 0;\r\n            input.maxLength = (_4 = (_3 = this.schema) === null || _3 === void 0 ? void 0 : _3.maxLength) !== null && _4 !== void 0 ? _4 : 99999999999999;\r\n            input.onchange = () => {\r\n                const json = input.value;\r\n                let value = null;\r\n                try {\r\n                    value = JSON.parse(json);\r\n                    this.setCurrentTypeValue(value);\r\n                    const actualType = JsonElement.getType(value);\r\n                    this.currentValues[actualType] = value;\r\n                }\r\n                catch (e) {\r\n                    alert(\"Couldn't parse JSON: \" + e);\r\n                }\r\n            };\r\n            this.element.append(input);\r\n        }\r\n        else {\r\n            this.element.append(`[${type}] : ${val}`);\r\n        }\r\n        this.update();\r\n    }\r\n    createLineNumber(overrideMargin = false) {\r\n        const lineNumber = document.createElement(\"div\");\r\n        lineNumber.classList.add(\"line-number\");\r\n        if (overrideMargin)\r\n            lineNumber.style.marginTop = \"0\";\r\n        return lineNumber;\r\n    }\r\n    isOpened() {\r\n        var _a;\r\n        return (_a = this.parent.getState()[`${this.path}_opened`]) !== null && _a !== void 0 ? _a : true;\r\n    }\r\n    setIsOpened(state) {\r\n        this.parent.getState()[`${this.path}_opened`] = state;\r\n    }\r\n    createBlock() {\r\n        const block = document.createElement(\"div\");\r\n        block.classList.add(\"json-tool-block\");\r\n        block.style.paddingLeft = \"25px\";\r\n        block.style.borderLeft = \"1px dashed black\";\r\n        block.style.marginLeft = \"3px\";\r\n        const collapse = document.createElement(\"div\");\r\n        if (this.path !== \"root\")\r\n            block.append(collapse);\r\n        collapse.classList.add(\"json-tool-btn\");\r\n        const updateOpened = (opened) => {\r\n            collapse.innerText = opened ? \"ᐯ\" : \"ᐳ\";\r\n            block.classList.remove(\"opened\", \"closed\");\r\n            block.classList.add(opened ? \"opened\" : \"closed\");\r\n        };\r\n        const toggle = () => {\r\n            const opened = !this.isOpened();\r\n            this.setIsOpened(opened);\r\n            updateOpened(opened);\r\n        };\r\n        collapse.onclick = toggle;\r\n        updateOpened(this.isOpened());\r\n        return block;\r\n    }\r\n    createObjectKeyValuePair(key, schema, value, noValue = false) {\r\n        var _a;\r\n        const parent = document.createElement(\"div\");\r\n        const originalKey = key;\r\n        if (typeof key === \"number\") {\r\n            key = (schema === null || schema === void 0 ? void 0 : schema.title) ? `${schema.title} ${key}` : key;\r\n        }\r\n        else {\r\n            key = (_a = schema === null || schema === void 0 ? void 0 : schema.title) !== null && _a !== void 0 ? _a : key;\r\n        }\r\n        const title = document.createElement(\"span\");\r\n        title.innerText = key.toString();\r\n        JsonElement.addDescription(title, schema === null || schema === void 0 ? void 0 : schema.description, schema === null || schema === void 0 ? void 0 : schema.examples);\r\n        parent.append(title);\r\n        parent.classList.add(\"json-tool-key\");\r\n        parent.append(\": \");\r\n        if (!noValue) {\r\n            const valueElement = document.createElement(\"div\");\r\n            const element = new JsonElement(originalKey, `${this.path}.${originalKey}`, valueElement, schema, value, this);\r\n            if (this.currentType === \"array\")\r\n                this.arrayElements.push(element);\r\n            else if (this.currentType === \"object\")\r\n                this.objectElements[originalKey] = element;\r\n            parent.append(valueElement);\r\n        }\r\n        return parent;\r\n    }\r\n    changeType(type) {\r\n        var _a;\r\n        const prevValue = this.getValue();\r\n        this.currentType = type;\r\n        if (type === \"json\") {\r\n            this.setCurrentTypeValue(prevValue);\r\n        }\r\n        else if (!this.currentValues.hasOwnProperty(type)) {\r\n            if (typeof ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.default) !== \"undefined\" && JsonElement.getType(this.schema.default) === type)\r\n                this.setCurrentTypeValue(this.schema.default);\r\n            else\r\n                this.setCurrentTypeValue(JsonElement.getDefaultValueForType(this.schema, type));\r\n        }\r\n        this.updateElement();\r\n    }\r\n    setStyle() {\r\n        this.element.style.whiteSpace = \"pre\";\r\n        this.element.classList.add(\"json-tool-value\");\r\n    }\r\n    getValue() {\r\n        var _a;\r\n        let val;\r\n        if (this.currentType === \"array\") {\r\n            val = this.arrayElements.map(e => e.getValue());\r\n        }\r\n        else if (this.currentType === \"object\") {\r\n            const obj = {};\r\n            for (const key in this.objectElements) {\r\n                obj[key] = this.objectElements[key].getValue();\r\n            }\r\n            val = obj;\r\n        }\r\n        else {\r\n            val = (_a = this.currentValues[this.currentType]) !== null && _a !== void 0 ? _a : JsonElement.getDefaultValueForType(this.schema, this.currentType);\r\n        }\r\n        this.currentValues[this.currentType] = val;\r\n        return val;\r\n    }\r\n}\r\n//# sourceMappingURL=JsonTool.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TschArray = exports.TschObject = exports.TschUnion = exports.TschUndefined = exports.TschNull = exports.TschBoolean = exports.TschNumber = exports.TschString = exports.TschType = void 0;\nclass TschValidationError {\n    constructor(path, message) {\n        this.path = path;\n        this.pathString = TschValidationError.formatPath(path);\n        this.rawMessage = message;\n        this.message = `${this.pathString}: ${message}`;\n    }\n    static formatPath(path) {\n        if (path.length < 1)\n            return \"root\";\n        return path.join(\".\");\n    }\n}\nclass TschType {\n    constructor(type) {\n        this._ts = null; //_ts is only used by Typescript for type inference, and so actually doesn't need to be assigned\n        this._type = type;\n        this._title = null;\n        this._description = null;\n        this._default = null;\n        this._examples = null;\n    }\n    union(other) {\n        return new TschUnion(this, other);\n    }\n    optional() {\n        return new TschUnion(this, new TschUndefined());\n    }\n    nullable() {\n        return new TschUnion(this, new TschNull());\n    }\n    clone() {\n        const clone = this.newInstance();\n        clone._title = this._title;\n        clone._description = this._description;\n        clone._default = this._default;\n        clone._examples = this._examples ? [...this._examples] : null;\n        return clone;\n    }\n    title(title) {\n        const clone = this.clone();\n        clone._title = title;\n        return clone;\n    }\n    description(descriptin) {\n        const clone = this.clone();\n        clone._description = descriptin;\n        return clone;\n    }\n    default(defaultValue) {\n        const clone = this.clone();\n        clone._default = defaultValue;\n        return clone;\n    }\n    examples(examples) {\n        const clone = this.clone();\n        clone._examples = [...examples];\n        return clone;\n    }\n    getJsonSchemaProperty() {\n        const schema = {\n            \"type\": this._type\n        };\n        if (this._title)\n            schema.title = this._title;\n        if (this._description)\n            schema.description = this._description;\n        if (this._default)\n            schema.default = this._default;\n        if (this._examples)\n            schema.examples = this._examples;\n        return schema;\n    }\n    validate(input) {\n        const errors = [];\n        this.validateInternal([], input, errors);\n        return { valid: errors.length == 0, errors };\n    }\n    validateInternal(path, input, errors) {\n        if (!this.isCorrectType(input)) {\n            errors.push(new TschValidationError(path, `Value has to be of type ${this.getTypeName()}`));\n            return;\n        }\n        this.validateCorrectType(path, input, errors);\n    }\n    isOptional() { return false; }\n    isNullable() { return false; }\n}\nexports.TschType = TschType;\nclass TschString extends TschType {\n    constructor() {\n        super(\"string\");\n        this._format = null;\n        this._enum = null;\n        this._minLength = null;\n        this._maxLength = null;\n    }\n    newInstance() {\n        return new TschString();\n    }\n    clone() {\n        const clone = super.clone();\n        clone._format = this._format;\n        clone._enum = this._enum;\n        clone._minLength = this._minLength;\n        clone._maxLength = this._maxLength;\n        return clone;\n    }\n    getJsonSchemaProperty() {\n        const schema = super.getJsonSchemaProperty();\n        if (this._format)\n            schema.format = this._format;\n        if (this._enum)\n            schema.enum = this._enum;\n        if (this._minLength)\n            schema.minLength = this._minLength;\n        if (this._maxLength)\n            schema.maxLength = this._maxLength;\n        return schema;\n    }\n    minLength(min) {\n        const clone = this.clone();\n        clone._minLength = min;\n        return clone;\n    }\n    maxLength(max) {\n        const clone = this.clone();\n        clone._maxLength = max;\n        return clone;\n    }\n    enumeration(enumeration) {\n        const clone = this.clone();\n        clone._enum = [...enumeration];\n        return clone;\n    }\n    format(format) {\n        const clone = this.clone();\n        clone._format = format;\n        return clone;\n    }\n    color() {\n        return this.format(\"color\");\n    }\n    date() {\n        return this.format(\"date\");\n    }\n    email() {\n        return this.format(\"email\");\n    }\n    password() {\n        return this.format(\"password\");\n    }\n    textarea() {\n        return this.format(\"textarea\");\n    }\n    url() {\n        return this.format(\"url\");\n    }\n    isCorrectType(input) {\n        return typeof input === \"string\";\n    }\n    getTypeName() { return \"string\"; }\n    validateCorrectType(path, input, errors) {\n        if (!!this._enum && !this._enum.includes(input)) {\n            errors.push(new TschValidationError(path, `Value has to be one of the following: ${this._enum.join(\", \")}`));\n        }\n        if (typeof this._minLength === \"number\" && input.length < this._minLength) {\n            errors.push(new TschValidationError(path, `Value must be longer than ${this._minLength} characters.`));\n        }\n        if (typeof this._maxLength === \"number\" && input.length > this._maxLength) {\n            errors.push(new TschValidationError(path, `Value must be shorter than ${this._maxLength} characters.`));\n        }\n        if (this._format === \"color\" && !/^#?[0-9a-f]{3,6}$/i.test(input)) {\n            errors.push(new TschValidationError(path, `Value must be a color hex code.`));\n        }\n        if (this._format === \"date\" && Number.isNaN(Date.parse(input))) {\n            errors.push(new TschValidationError(path, `Value must be a date.`));\n        }\n        if (this._format === \"email\" && !/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(input)) {\n            errors.push(new TschValidationError(path, `Value must be an email.`));\n        }\n        if (this._format === \"url\" && !/^https?:\\/\\/(?:www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b(?:[-a-zA-Z0-9()@:%_\\+.~#?&\\/=]*)$/.test(input)) {\n            errors.push(new TschValidationError(path, `Value must be a URL.`));\n        }\n    }\n}\nexports.TschString = TschString;\nclass TschNumber extends TschType {\n    constructor() {\n        super(\"number\");\n        this._integer = false;\n        this._min = null;\n        this._max = null;\n    }\n    newInstance() {\n        return new TschNumber();\n    }\n    clone() {\n        const clone = super.clone();\n        clone._integer = this._integer;\n        clone._min = this._min;\n        clone._max = this._max;\n        return clone;\n    }\n    integer() {\n        const clone = this.clone();\n        clone._integer = true;\n        return clone;\n    }\n    min(min) {\n        const clone = this.clone();\n        clone._min = min;\n        return clone;\n    }\n    max(max) {\n        const clone = this.clone();\n        clone._max = max;\n        return clone;\n    }\n    getJsonSchemaProperty() {\n        const schema = super.getJsonSchemaProperty();\n        if (this._integer)\n            schema.type = \"integer\";\n        if (this._min !== null)\n            schema.minimum = this._min;\n        if (this._max !== null)\n            schema.maximum = this._max;\n        return schema;\n    }\n    isCorrectType(input) {\n        return typeof input === \"number\";\n    }\n    getTypeName() { return \"number\"; }\n    validateCorrectType(path, input, errors) {\n        if (this._integer && !Number.isInteger(input)) {\n            errors.push(new TschValidationError(path, `Value has to be an integer.`));\n        }\n        if (typeof this._min === \"number\" && input < this._min) {\n            errors.push(new TschValidationError(path, `Value must be at least ${this._min}.`));\n        }\n        if (typeof this._max === \"number\" && input > this._max) {\n            errors.push(new TschValidationError(path, `Value must be at less than ${this._max}.`));\n        }\n    }\n}\nexports.TschNumber = TschNumber;\nclass TschBoolean extends TschType {\n    constructor() {\n        super(\"boolean\");\n    }\n    newInstance() {\n        return new TschBoolean();\n    }\n    clone() {\n        const clone = super.clone();\n        return clone;\n    }\n    isCorrectType(input) {\n        return typeof input === \"boolean\";\n    }\n    getTypeName() { return \"boolean\"; }\n    validateCorrectType(path, input, errors) {\n    }\n}\nexports.TschBoolean = TschBoolean;\nclass TschNull extends TschType {\n    constructor() {\n        super(\"null\");\n    }\n    newInstance() {\n        return new TschNull();\n    }\n    clone() {\n        const clone = super.clone();\n        return clone;\n    }\n    isCorrectType(input) {\n        return input === null;\n    }\n    getTypeName() { return \"null\"; }\n    validateCorrectType(path, input, errors) {\n    }\n}\nexports.TschNull = TschNull;\nclass TschUndefined extends TschType {\n    constructor() {\n        super(\"undefined\");\n    }\n    newInstance() {\n        return new TschUndefined();\n    }\n    clone() {\n        const clone = super.clone();\n        return clone;\n    }\n    isCorrectType(input) {\n        return typeof input === \"undefined\";\n    }\n    getTypeName() { return \"undefined\"; }\n    validateCorrectType(path, input, errors) {\n    }\n}\nexports.TschUndefined = TschUndefined;\nclass TschUnion extends TschType {\n    constructor(type1, type2) {\n        super(`union_${type1._type}_${type2._type}`);\n        this.type1 = type1;\n        this.type2 = type2;\n    }\n    Type1Internal() { return this.type1; }\n    Type2Internal() { return this.type2; }\n    newInstance() {\n        return new TschUnion(this.type1.clone(), this.type2.clone());\n    }\n    clone() {\n        const clone = super.clone();\n        clone.type1 = this.Type1Internal().clone();\n        clone.type2 = this.Type2Internal().clone();\n        return clone;\n    }\n    getJsonSchemaProperty() {\n        var _a, _b, _c, _d;\n        const schema1 = this.Type1Internal()._type === \"undefined\" ? {} : this.type1.getJsonSchemaProperty();\n        const schema2 = this.Type2Internal()._type === \"undefined\" ? {} : this.type2.getJsonSchemaProperty();\n        const combined = Object.assign(Object.assign({}, schema1), schema2);\n        combined.type = [...(Array.isArray(schema1.type) ? schema1.type : [schema1.type]), ...(Array.isArray(schema2.type) ? schema2.type : [schema2.type])].filter(t => !!t && t !== \"undefined\");\n        if (combined.type.length < 2)\n            combined.type = combined.type[0];\n        if (schema1.properties && schema2.properties) {\n            combined.properties = Object.assign(Object.assign({}, ((_a = schema1.properties) !== null && _a !== void 0 ? _a : {})), ((_b = schema2.properties) !== null && _b !== void 0 ? _b : {}));\n            if (!!schema1.required && !!schema2.required)\n                combined.required = schema1.required.filter((f) => { var _a; return (_a = schema2.required) === null || _a === void 0 ? void 0 : _a.includes(f); });\n            else\n                combined.required = (_d = (_c = schema1.required) !== null && _c !== void 0 ? _c : schema2.required) !== null && _d !== void 0 ? _d : [];\n        }\n        if (this._title)\n            combined.title = this._title;\n        if (this._description)\n            combined.description = this._description;\n        if (this._default)\n            combined.default = this._default;\n        return combined;\n    }\n    isNullable() {\n        return this.Type1Internal()._type === \"null\" || this.Type2Internal()._type === \"null\" || this.Type1Internal().isNullable() || this.Type2Internal().isNullable();\n    }\n    isOptional() {\n        return this.Type1Internal()._type === \"undefined\" || this.Type2Internal()._type === \"undefined\" || this.Type1Internal().isOptional() || this.Type2Internal().isOptional();\n    }\n    isCorrectType(input) {\n        return this.Type1Internal().isCorrectType(input) || this.Type2Internal().isCorrectType(input);\n    }\n    getTypeName() { return `${this.type1.getTypeName()} or ${this.type2.getTypeName()}`; }\n    validateCorrectType(path, input, errors) {\n        if (this.Type1Internal().isCorrectType(input)) {\n            this.Type1Internal().validateInternal(path, input, errors);\n        }\n        if (this.Type2Internal().isCorrectType(input)) {\n            this.Type2Internal().validateInternal(path, input, errors);\n        }\n    }\n}\nexports.TschUnion = TschUnion;\nclass TschObject extends TschType {\n    constructor(shape) {\n        super(\"object\");\n        this.objectShape = shape !== null && shape !== void 0 ? shape : {};\n    }\n    newInstance() {\n        return new TschObject(this.objectShape);\n    }\n    clone() {\n        const clone = super.clone();\n        clone.objectShape = this.objectShape;\n        return clone;\n    }\n    shape(shape) {\n        const clone = this.clone();\n        clone.objectShape = shape;\n        return clone;\n    }\n    getJsonSchemaProperty() {\n        const schema = super.getJsonSchemaProperty();\n        schema.required = Object.keys(this.objectShape).filter(k => !this.objectShape[k].isOptional());\n        schema.properties = {};\n        for (const key in this.objectShape) {\n            schema.properties[key] = this.objectShape[key].getJsonSchemaProperty();\n        }\n        return schema;\n    }\n    isCorrectType(input) {\n        return typeof input === \"object\" && input !== null && !Array.isArray(input);\n    }\n    getTypeName() {\n        return \"object\";\n    }\n    validateCorrectType(path, input, errors) {\n        for (const key in this.objectShape) {\n            const child = this.objectShape[key];\n            const childInternal = child;\n            if (!childInternal.isOptional() && !input.hasOwnProperty(key)) {\n                errors.push(new TschValidationError(path, `Property ${key} of type ${childInternal.getTypeName()} is required.`));\n            }\n            if (input.hasOwnProperty(key)) {\n                childInternal.validateInternal([...path, key], input[key], errors);\n            }\n        }\n    }\n}\nexports.TschObject = TschObject;\nclass TschArray extends TschType {\n    constructor(elementType) {\n        super(\"array\");\n        this.elementType = elementType !== null && elementType !== void 0 ? elementType : new TschUndefined();\n        this._format = null;\n        this._minElementCount = null;\n        this._maxElementCount = null;\n        this._unique = false;\n    }\n    newInstance() {\n        return new TschArray(this.elementType);\n    }\n    clone() {\n        const clone = super.clone();\n        clone.elementType = this.elementType;\n        clone._format = this._format;\n        clone._unique = this._unique;\n        clone._minElementCount = this._minElementCount;\n        clone._maxElementCount = this._maxElementCount;\n        return clone;\n    }\n    getJsonSchemaProperty() {\n        const schema = super.getJsonSchemaProperty();\n        schema.items = this.elementType.getJsonSchemaProperty();\n        if (this._format)\n            schema.format = this._format;\n        if (this._unique)\n            schema.uniqueItems = this._unique;\n        if (this._minElementCount)\n            schema.minItems = this._minElementCount;\n        if (this._maxElementCount)\n            schema.maxItems = this._maxElementCount;\n        return schema;\n    }\n    element(elementType) {\n        const clone = this.clone();\n        clone.elementType = elementType;\n        return clone;\n    }\n    table() {\n        const clone = this.clone();\n        clone._format = \"table\";\n        return clone;\n    }\n    minElements(count) {\n        const clone = this.clone();\n        clone._minElementCount = count;\n        return clone;\n    }\n    maxElements(count) {\n        const clone = this.clone();\n        clone._maxElementCount = count;\n        return clone;\n    }\n    unique() {\n        const clone = this.clone();\n        clone._unique = true;\n        return clone;\n    }\n    isCorrectType(input) {\n        return typeof input === \"object\" && input !== null && Array.isArray(input);\n    }\n    getTypeName() {\n        return `array of ${this.elementType.getTypeName()}`;\n    }\n    validateCorrectType(path, input, errors) {\n        const elementTypeInternal = this.elementType;\n        const used = new Set();\n        if (typeof this._minElementCount === \"number\" && input.length < this._minElementCount) {\n            errors.push(new TschValidationError(path, `Array must contain at least ${this._minElementCount} elements.`));\n        }\n        if (typeof this._maxElementCount === \"number\" && input.length > this._maxElementCount) {\n            errors.push(new TschValidationError(path, `Array must contain at most ${this._maxElementCount} elements.`));\n        }\n        for (let i = 0; i < input.length; i++) {\n            const element = input[i];\n            elementTypeInternal.validateInternal([...path, i.toString()], element, errors);\n            if (this._unique) {\n                const json = JSON.stringify(element);\n                if (used.has(json)) {\n                    errors.push(new TschValidationError(path, \"All values have to be unique.\"));\n                }\n                used.add(json);\n            }\n        }\n    }\n}\nexports.TschArray = TschArray;\n//# sourceMappingURL=TschType.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tsch = void 0;\nconst tsch = __importStar(require(\"./tsch\"));\nexports.tsch = tsch;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.array = exports.object = exports.boolean = exports.number = exports.string = void 0;\nconst TschType_1 = require(\"./TschType\");\nfunction string() { return new TschType_1.TschString(); }\nexports.string = string;\nfunction number() { return new TschType_1.TschNumber(); }\nexports.number = number;\nfunction boolean() { return new TschType_1.TschBoolean(); }\nexports.boolean = boolean;\nfunction object(shape) {\n    return new TschType_1.TschObject(shape);\n}\nexports.object = object;\nfunction array(elementType) {\n    return new TschType_1.TschArray(elementType);\n}\nexports.array = array;\n//# sourceMappingURL=tsch.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tsch_1 = require(\"tsch\");\r\nconst JsonTool_1 = require(\"./JsonTool\");\r\nconst person = tsch_1.tsch.object({\r\n    name: tsch_1.tsch.string().description(\"First and Last Name\").minLength(4).maxLength(6).default(\"Jeremy Dorn\").nullable(),\r\n    age: tsch_1.tsch.number().integer().default(25).min(18).max(99).optional().title(\"Age\").union(tsch_1.tsch.string()),\r\n    favorite_color: tsch_1.tsch.string().color().title(\"favorite color\").default(\"#ffa500\").examples([\"#ff0000\", \"#00ff00\"]),\r\n    gender: tsch_1.tsch.string().enumeration([\"male\", \"female\", \"other\"]),\r\n    date: tsch_1.tsch.string().date(),\r\n    alive: tsch_1.tsch.boolean().default(true).nullable().title(\"Alive\").description(\"If checked, this person is still alive\"),\r\n    description: tsch_1.tsch.string().textarea(),\r\n    password: tsch_1.tsch.string().password(),\r\n    website: tsch_1.tsch.string().url(),\r\n    email: tsch_1.tsch.string().email(),\r\n    location: tsch_1.tsch.object({\r\n        city: tsch_1.tsch.string().default(\"San Francisco\"),\r\n        state: tsch_1.tsch.string().default(\"CA\")\r\n    }).title(\"Location\"),\r\n    pets: tsch_1.tsch.array(tsch_1.tsch.object({\r\n        type: tsch_1.tsch.string().enumeration([\"cat\", \"dog\", \"bird\", \"reptile\", \"other\"]).default(\"dog\"),\r\n        name: tsch_1.tsch.string()\r\n    }).title(\"Pet\")).unique().table().default([{ type: \"dog\", name: \"Walter\" }]).minElements(1).maxElements(3)\r\n}).title(\"Person\");\r\nconst personJsonSchema = person.getJsonSchemaProperty();\r\nconst rootElement = document.querySelector(\"#root\");\r\nif (rootElement) {\r\n    const tool = new JsonTool_1.JsonTool(rootElement);\r\n    tool.load(personJsonSchema, { test: 123 }, v => person.validate(v));\r\n    window.getValue = () => tool.getValue();\r\n}\r\n//# sourceMappingURL=www.js.map"],"names":["__awaiter","this","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","Object","defineProperty","exports","JsonTool","constructor","element","validator","_a","_b","elementState","undoStack","redoStack","undoing","containerElement","valid","schema","root","document","createElement","style","fontFamily","marginLeft","classList","add","rootObject","rootElement","errorMessages","undoRedoButtons","undoButton","innerText","onclick","undo","appendChild","redoButton","redo","iframe","width","height","overflow","border","innerHTML","iframeBody","contentDocument","contentWindow","querySelector","append","createCss","onload","deleteChild","key","getState","load","title","textContent","JsonElement","addDescription","description","examples","validate","hide","setValidator","getValue","update","number","querySelectorAll","forEach","toString","window","setTimeout","errors","map","message","join","pushUndoState","length","JSON","stringify","unshift","updateUndoRedoButtons","splice","disabled","parent","path","arrayElements","objectElements","setStyle","currentValues","types","getDefaultAvailableTypes","actualType","getType","currentType","push","setCurrentTypeValue","def","getDefaultValue","type","Set","updateElement","getPath","i","val","arr","parse","undefined","static","textDecoration","cursor","Array","isArray","includes","t","availableTypes","default","getDefaultValueForType","_c","isInteger","Math","ceil","minimum","enum","format","Date","toDateString","obj","properties","required","hasOwnProperty","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","_3","_4","display","remove","createLineNumber","typeDiv","select","option","onchange","changeType","changeTypeButton","validTypes","newType","prompt","object","createBlock","createObjectKeyValuePair","buttons","prepend","confirm","array","maxItems","defaultValue","items","setIsOpened","idx","minItems","alert","up","slice","concat","down","checkbox","checked","input","minLength","maxLength","valueAsDate","min","max","maximum","parseFloat","json","overrideMargin","lineNumber","marginTop","isOpened","state","block","paddingLeft","borderLeft","collapse","updateOpened","opened","noValue","originalKey","valueElement","prevValue","whiteSpace","TschArray","TschObject","TschUnion","TschUndefined","TschNull","TschBoolean","TschNumber","TschString","TschType","TschValidationError","pathString","formatPath","rawMessage","_ts","_type","_title","_description","_default","_examples","union","other","optional","nullable","clone","newInstance","descriptin","getJsonSchemaProperty","validateInternal","isCorrectType","validateCorrectType","getTypeName","isOptional","isNullable","super","_format","_enum","_minLength","_maxLength","enumeration","color","date","email","password","textarea","url","test","Number","isNaN","_integer","_min","_max","integer","type1","type2","Type1Internal","Type2Internal","schema1","schema2","combined","assign","filter","f","shape","objectShape","keys","k","childInternal","elementType","_minElementCount","_maxElementCount","_unique","uniqueItems","table","minElements","count","maxElements","unique","elementTypeInternal","used","has","__createBinding","create","o","m","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","mod","prototype","call","tsch","boolean","string","TschType_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","tsch_1","JsonTool_1","person","name","age","favorite_color","gender","alive","website","location","city","pets","personJsonSchema","tool"],"sourceRoot":""}