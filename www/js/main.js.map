{"version":3,"file":"www/js/main.js","mappings":"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","sources":["webpack://@wanieru/json-tool/./js/JsonTool.js","webpack://@wanieru/json-tool/./node_modules/tsch/dist/TschType.js","webpack://@wanieru/json-tool/./node_modules/tsch/dist/index.js","webpack://@wanieru/json-tool/./node_modules/tsch/dist/tsch.js","webpack://@wanieru/json-tool/webpack/bootstrap","webpack://@wanieru/json-tool/./js/www.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.JsonTool = void 0;\r\nclass JsonTool {\r\n    constructor(element) {\r\n        var _a, _b;\r\n        this.root = document.createElement(\"div\");\r\n        this.root.style.fontFamily = \"monospace\";\r\n        this.root.style.marginLeft = \"30px\";\r\n        this.root.classList.add(\"json-tool\");\r\n        this.rootObject = null;\r\n        this.rootElement = null;\r\n        const iframe = document.createElement(\"iframe\");\r\n        iframe.style.width = \"100%\";\r\n        iframe.style.height = \"100%\";\r\n        iframe.style.overflow = \"scroll\";\r\n        iframe.style.border = \"0\";\r\n        element.appendChild(iframe);\r\n        this.iframeBody = (_b = (iframe.contentDocument || ((_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.document))) === null || _b === void 0 ? void 0 : _b.querySelector(\"body\");\r\n        this.iframeBody.append(this.root);\r\n        this.createCss(this.iframeBody);\r\n        iframe.onload = () => {\r\n            var _a, _b;\r\n            this.iframeBody = (_b = (iframe.contentDocument || ((_a = iframe.contentWindow) === null || _a === void 0 ? void 0 : _a.document))) === null || _b === void 0 ? void 0 : _b.querySelector(\"body\");\r\n            this.iframeBody.append(this.root);\r\n            this.createCss(this.iframeBody);\r\n        };\r\n    }\r\n    load(schema, value) {\r\n        this.root.innerHTML = \"\";\r\n        if (schema.title) {\r\n            const title = document.createElement(\"h3\");\r\n            title.textContent = schema.title;\r\n            JsonElement.addDescription(title, schema.description);\r\n            this.root.appendChild(title);\r\n        }\r\n        this.rootObject = document.createElement(\"div\");\r\n        this.root.appendChild(this.rootObject);\r\n        this.rootElement = new JsonElement(this.rootObject, schema, value, () => this.onUpdate());\r\n    }\r\n    getValue() {\r\n        var _a;\r\n        return (_a = this.rootElement) === null || _a === void 0 ? void 0 : _a.getValue();\r\n    }\r\n    onUpdate() {\r\n        var _a;\r\n        if (!this.rootObject)\r\n            return;\r\n        let number = 1;\r\n        (_a = this.rootObject) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".line-number\").forEach(e => {\r\n            e.innerText = number.toString();\r\n            number++;\r\n        });\r\n    }\r\n    createCss(parent) {\r\n        const style = document.createElement(\"style\");\r\n        parent.appendChild(style);\r\n        style.innerHTML =\r\n            `\r\n            .json-tool-btn\r\n             {\r\n                border: 1px black solid;\r\n                cursor: pointer;\r\n                display: block;\r\n             }\r\n              .json-tool-block > .json-tool-btn {\r\n                margin-top: -17px;\r\n                margin-left: -40px;\r\n                position: absolute;\r\n                opacity: 0;\r\n              }\r\n              .json-tool-block:hover > .json-tool-btn\r\n              {\r\n                opacity: 1;\r\n              }\r\n              .json-tool-value > .json-tool-btn {\r\n                margin-left: 10px;\r\n                display: inline-block;\r\n                position: absolute;\r\n                opacity :0;\r\n              }\r\n              .json-tool-value:hover > .json-tool-btn\r\n              {\r\n                opacity :1;\r\n              }\r\n              .json-tool-key > .json-tool-btns {\r\n                margin-left: -32px;\r\n                display: inline-block;\r\n                position: absolute;\r\n                width: 32px;\r\n                text-align: right;\r\n                opacity: 0;\r\n              }\r\n              .json-tool-key:hover > .json-tool-btns\r\n              {\r\n                opacity: 1;\r\n              }\r\n\r\n              .json-tool-key > .json-tool-btns > .json-tool-btn {\r\n                display: inline-block;\r\n                margin-right: 2px;\r\n              }\r\n              .json-tool-value > .json-tool-type\r\n              {\r\n                float:right;\r\n                opacity: 0;\r\n                padding:0;\r\n                margin:0;\r\n                border:0;\r\n              }\r\n              .json-tool-value.json-tool-object > .json-tool-type\r\n              {\r\n                float:none;\r\n                position: absolute;\r\n                margin-left: 15px;\r\n              }\r\n              .json-tool-value:hover > .json-tool-type\r\n              {\r\n                opacity: 1;\r\n              }\r\n\r\n              .json-tool-block.opened > .json-tool-key {display: block}\r\n              .json-tool-block.closed > .json-tool-key {display: none}\r\n\r\n              .line-number\r\n              {\r\n                position: absolute;\r\n                left: 0;\r\n                text-align: right;\r\n                width: 20px;\r\n              }\r\n              .json-tool-value.json-tool-object > .line-number\r\n              {\r\n                margin-top: -15px;\r\n              }\r\n              .json-tool input, .json-tool select, .json-tool textarea\r\n              {\r\n                border: 0;\r\n                background-color: #ece9e9;\r\n                padding: 0;\r\n                margin: 1px;\r\n              }\r\n`;\r\n    }\r\n}\r\nexports.JsonTool = JsonTool;\r\nclass JsonElement {\r\n    constructor(element, schema, value, onUpdate) {\r\n        this.arrayElements = [];\r\n        this.objectElements = {};\r\n        this.element = element;\r\n        this.setStyle();\r\n        this.schema = schema;\r\n        this.onUpdate = onUpdate;\r\n        this.currentValues = {};\r\n        this.types = schema ? JsonElement.getDefaultAvailableTypes(schema) : [];\r\n        const actualType = JsonElement.getType(value);\r\n        this.currentType = \"\";\r\n        if (actualType !== \"undefined\") {\r\n            this.currentType = actualType;\r\n            this.types.push(actualType);\r\n            this.setCurrentTypeValue(value);\r\n        }\r\n        else if (this.schema) {\r\n            const def = JsonElement.getDefaultValue(this.schema);\r\n            this.currentType = def.type;\r\n            this.setCurrentTypeValue(def.value);\r\n        }\r\n        this.types = [...new Set(this.types)];\r\n        this.updateElement();\r\n    }\r\n    setCurrentTypeValue(value) {\r\n        this.currentValues[this.currentType] = typeof value !== \"undefined\" ? JSON.parse(JSON.stringify(value)) : undefined;\r\n    }\r\n    static addDescription(element, description) {\r\n        if (description) {\r\n            element.title = description;\r\n            element.style.textDecoration = \"underline dotted\";\r\n            element.style.cursor = \"help\";\r\n        }\r\n    }\r\n    static getType(value) {\r\n        if (typeof value === \"undefined\")\r\n            return \"undefined\";\r\n        if (Array.isArray(value)) {\r\n            return \"array\";\r\n        }\r\n        else if (value === null) {\r\n            return \"null\";\r\n        }\r\n        else {\r\n            return typeof value;\r\n        }\r\n    }\r\n    static isInteger(schema) {\r\n        if (!schema)\r\n            return false;\r\n        const arr = Array.isArray(schema.type) ? schema.type : [schema.type];\r\n        return arr.includes(\"integer\") && !arr.includes(\"number\");\r\n    }\r\n    static getDefaultAvailableTypes(schema) {\r\n        let types = Array.isArray(schema.type) ? [...schema.type] : [schema.type];\r\n        types = types.map(t => {\r\n            if (t === \"integer\")\r\n                return \"number\";\r\n            return t;\r\n        });\r\n        return types;\r\n    }\r\n    static getDefaultValue(schema) {\r\n        const availableTypes = this.getDefaultAvailableTypes(schema);\r\n        if (schema.default) {\r\n            return { type: this.getType(schema.default), value: schema.default };\r\n        }\r\n        else {\r\n            return { type: availableTypes[0], value: this.getDefaultValueForType(schema, availableTypes[0]) };\r\n        }\r\n    }\r\n    static getDefaultValueForType(schema, type) {\r\n        var _a, _b, _c;\r\n        if (type === \"null\") {\r\n            return null;\r\n        }\r\n        else if (type === \"number\") {\r\n            return this.isInteger(schema) ? Math.ceil((_a = schema === null || schema === void 0 ? void 0 : schema.minimum) !== null && _a !== void 0 ? _a : 0) : (_b = schema === null || schema === void 0 ? void 0 : schema.minimum) !== null && _b !== void 0 ? _b : 0;\r\n        }\r\n        else if (type === \"string\") {\r\n            if (schema === null || schema === void 0 ? void 0 : schema.enum)\r\n                return schema.enum[0];\r\n            if ((schema === null || schema === void 0 ? void 0 : schema.format) === \"color\")\r\n                return \"#000000\";\r\n            if ((schema === null || schema === void 0 ? void 0 : schema.format) === \"date\")\r\n                return new Date().toDateString();\r\n            return \"\";\r\n        }\r\n        else if (type === \"boolean\") {\r\n            return false;\r\n        }\r\n        else if (type === \"array\") {\r\n            return [];\r\n        }\r\n        else if (type === \"object\") {\r\n            const obj = {};\r\n            if (schema === null || schema === void 0 ? void 0 : schema.properties) {\r\n                for (const required of (_c = schema.required) !== null && _c !== void 0 ? _c : []) {\r\n                    if (!schema.properties.hasOwnProperty(required))\r\n                        continue;\r\n                    const def = this.getDefaultValue(schema.properties[required]);\r\n                    obj[required] = def.value;\r\n                }\r\n            }\r\n            return obj;\r\n        }\r\n    }\r\n    updateElement() {\r\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x, _y, _z, _0, _1, _2;\r\n        this.objectElements = {};\r\n        this.arrayElements = [];\r\n        this.element.innerHTML = \"\";\r\n        this.element.style.display = \"inline-block\";\r\n        this.element.classList.remove(\"json-tool-object\");\r\n        this.element.append(this.createLineNumber());\r\n        const type = this.currentType;\r\n        const val = (_a = this.currentValues[type]) !== null && _a !== void 0 ? _a : (this.currentValues[type] = JsonElement.getDefaultValueForType(this.schema, type));\r\n        if (this.types.length > 1) {\r\n            const select = document.createElement(\"select\");\r\n            select.classList.add(\"json-tool-type\");\r\n            for (const t of this.types) {\r\n                const option = document.createElement(\"option\");\r\n                option.innerText = t;\r\n                option.value = t;\r\n                select.append(option);\r\n            }\r\n            select.value = this.currentType;\r\n            select.onchange = () => {\r\n                this.changeType(select.value);\r\n            };\r\n            this.element.append(select);\r\n        }\r\n        if (type === \"object\") {\r\n            this.element.append(this.createLineNumber(true));\r\n            this.element.style.display = \"block\";\r\n            this.element.classList.add(\"json-tool-object\");\r\n            this.element.append(\"{\");\r\n            const object = this.createBlock();\r\n            this.element.append(object);\r\n            this.element.append(\"}\");\r\n            this.element.append(this.createLineNumber());\r\n            for (const key in val !== null && val !== void 0 ? val : {}) {\r\n                const obj = this.createObjectKeyValuePair(key, ((_b = this.schema) === null || _b === void 0 ? void 0 : _b.properties) ? this.schema.properties[key] : null, val[key]);\r\n                object.append(obj);\r\n                const buttons = document.createElement(\"div\");\r\n                obj.prepend(buttons);\r\n                buttons.classList.add(\"json-tool-btns\");\r\n                if (((_c = this.schema) === null || _c === void 0 ? void 0 : _c.properties) && !this.schema.properties.hasOwnProperty(key)) {\r\n                    const remove = document.createElement(\"div\");\r\n                    remove.classList.add(\"json-tool-btn\");\r\n                    remove.innerText = \"X\";\r\n                    remove.onclick = () => {\r\n                        const val = this.getValue();\r\n                        delete val[key];\r\n                        this.setCurrentTypeValue(val);\r\n                        this.updateElement();\r\n                    };\r\n                    buttons.append(remove);\r\n                }\r\n                else if (!((_e = (_d = this.schema) === null || _d === void 0 ? void 0 : _d.required) === null || _e === void 0 ? void 0 : _e.includes(key))) {\r\n                    const remove = document.createElement(\"div\");\r\n                    remove.classList.add(\"json-tool-btn\");\r\n                    remove.innerText = \"∽\";\r\n                    remove.onclick = () => {\r\n                        const val = this.getValue();\r\n                        delete val[key];\r\n                        this.setCurrentTypeValue(val);\r\n                        this.updateElement();\r\n                    };\r\n                    buttons.append(remove);\r\n                }\r\n            }\r\n            if ((_f = this.schema) === null || _f === void 0 ? void 0 : _f.properties) {\r\n                for (const key in this.schema.properties) {\r\n                    if (val === null || val === void 0 ? void 0 : val.hasOwnProperty(key))\r\n                        continue;\r\n                    if ((_h = (_g = this.schema) === null || _g === void 0 ? void 0 : _g.required) === null || _h === void 0 ? void 0 : _h.includes(key)) {\r\n                        const obj = this.createObjectKeyValuePair(key, this.schema.properties[key]);\r\n                        object.append(obj);\r\n                    }\r\n                    else {\r\n                        const obj = this.createObjectKeyValuePair(key, this.schema.properties[key], undefined, true);\r\n                        object.append(obj);\r\n                        obj.style.textDecoration = \"line-through 2px\";\r\n                        const buttons = document.createElement(\"div\");\r\n                        obj.prepend(buttons);\r\n                        buttons.classList.add(\"json-tool-btns\");\r\n                        const add = document.createElement(\"div\");\r\n                        add.classList.add(\"json-tool-btn\");\r\n                        add.innerText = \"≁\";\r\n                        add.onclick = () => {\r\n                            var _a;\r\n                            if ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.properties) {\r\n                                const val = this.getValue();\r\n                                val[key] = JsonElement.getDefaultValue(this.schema.properties[key]).value;\r\n                                this.setCurrentTypeValue(val);\r\n                                this.updateElement();\r\n                            }\r\n                        };\r\n                        buttons.append(add);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else if (type === \"array\") {\r\n            this.element.append(this.createLineNumber(true));\r\n            this.element.style.display = \"block\";\r\n            this.element.classList.add(\"json-tool-object\");\r\n            this.element.append(\"[\");\r\n            const array = this.createBlock();\r\n            this.element.append(array);\r\n            const add = document.createElement(\"div\");\r\n            add.classList.add(\"json-tool-btn\");\r\n            add.innerText = \"+\";\r\n            this.element.append(add);\r\n            add.onclick = () => {\r\n                var _a;\r\n                const val = [...this.getValue()];\r\n                if ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.items) {\r\n                    const defaultValue = JsonElement.getDefaultValue(this.schema.items).value;\r\n                    val.push(defaultValue);\r\n                    this.currentType = type;\r\n                    this.setCurrentTypeValue(val);\r\n                    this.updateElement();\r\n                }\r\n            };\r\n            this.element.append(\"]\");\r\n            this.element.append(this.createLineNumber());\r\n            const arr = val !== null && val !== void 0 ? val : [];\r\n            for (let i = 0; i < arr.length; i++) {\r\n                const idx = i;\r\n                const obj = this.createObjectKeyValuePair(i, ((_j = this.schema) === null || _j === void 0 ? void 0 : _j.items) ? this.schema.items : null, val[i]);\r\n                array.append(obj);\r\n                const buttons = document.createElement(\"div\");\r\n                obj.prepend(buttons);\r\n                buttons.classList.add(\"json-tool-btns\");\r\n                const remove = document.createElement(\"div\");\r\n                remove.classList.add(\"json-tool-btn\");\r\n                remove.innerText = \"X\";\r\n                remove.onclick = () => {\r\n                    const arr = [...this.getValue()];\r\n                    arr.splice(idx, 1);\r\n                    this.setCurrentTypeValue(arr);\r\n                    this.updateElement();\r\n                };\r\n                buttons.append(remove);\r\n                const up = document.createElement(\"div\");\r\n                up.classList.add(\"json-tool-btn\");\r\n                up.innerText = \"ᐃ\";\r\n                up.onclick = () => {\r\n                    let arr = [...this.getValue()];\r\n                    const element = arr.splice(idx, 1);\r\n                    arr = arr.slice(0, idx - 1).concat(element).concat(arr.slice(idx - 1));\r\n                    this.setCurrentTypeValue(arr);\r\n                    this.updateElement();\r\n                };\r\n                buttons.append(up);\r\n                const down = document.createElement(\"div\");\r\n                down.classList.add(\"json-tool-btn\");\r\n                down.innerText = \"ᐁ\";\r\n                down.onclick = () => {\r\n                    let arr = [...this.getValue()];\r\n                    const element = arr.splice(idx, 1);\r\n                    arr = arr.slice(0, idx + 1).concat(element).concat(arr.slice(idx + 1));\r\n                    this.setCurrentTypeValue(arr);\r\n                    this.updateElement();\r\n                };\r\n                buttons.append(down);\r\n            }\r\n        }\r\n        else if (type === \"boolean\") {\r\n            const checkbox = document.createElement(\"input\");\r\n            checkbox.type = \"checkbox\";\r\n            checkbox.checked = val;\r\n            checkbox.onchange = () => {\r\n                this.setCurrentTypeValue(checkbox.checked);\r\n            };\r\n            this.element.append(checkbox);\r\n        }\r\n        else if (type === \"string\") {\r\n            if ((_k = this.schema) === null || _k === void 0 ? void 0 : _k.enum) {\r\n                const select = document.createElement(\"select\");\r\n                for (const value of [...new Set(this.schema.enum.concat(val))]) {\r\n                    const option = document.createElement(\"option\");\r\n                    option.innerText = value;\r\n                    option.value = value;\r\n                    select.append(option);\r\n                }\r\n                select.value = val;\r\n                select.onchange = () => {\r\n                    this.setCurrentTypeValue(select.value);\r\n                };\r\n                this.element.append(select);\r\n            }\r\n            else if (((_l = this.schema) === null || _l === void 0 ? void 0 : _l.format) === \"textarea\") {\r\n                const input = document.createElement(\"textarea\");\r\n                input.value = val;\r\n                input.minLength = (_o = (_m = this.schema) === null || _m === void 0 ? void 0 : _m.minLength) !== null && _o !== void 0 ? _o : 0;\r\n                input.maxLength = (_q = (_p = this.schema) === null || _p === void 0 ? void 0 : _p.maxLength) !== null && _q !== void 0 ? _q : 99999999999999;\r\n                input.onchange = () => {\r\n                    this.setCurrentTypeValue(input.value);\r\n                };\r\n                this.element.append(input);\r\n            }\r\n            else if (((_r = this.schema) === null || _r === void 0 ? void 0 : _r.format) === \"date\") {\r\n                const input = document.createElement(\"input\");\r\n                input.type = \"date\";\r\n                input.onchange = () => {\r\n                    var _a, _b;\r\n                    this.setCurrentTypeValue((_b = (_a = input.valueAsDate) === null || _a === void 0 ? void 0 : _a.toDateString()) !== null && _b !== void 0 ? _b : \"\");\r\n                };\r\n                this.element.append(input);\r\n                input.valueAsDate = new Date(val);\r\n            }\r\n            else {\r\n                const input = document.createElement(\"input\");\r\n                input.type = \"text\";\r\n                if (((_s = this.schema) === null || _s === void 0 ? void 0 : _s.format) && [\"password\", \"email\", \"color\", \"url\"].includes(this.schema.format))\r\n                    input.type = this.schema.format;\r\n                input.value = val;\r\n                input.minLength = (_u = (_t = this.schema) === null || _t === void 0 ? void 0 : _t.minLength) !== null && _u !== void 0 ? _u : 0;\r\n                input.maxLength = (_w = (_v = this.schema) === null || _v === void 0 ? void 0 : _v.maxLength) !== null && _w !== void 0 ? _w : 99999999999999;\r\n                input.onchange = () => {\r\n                    this.setCurrentTypeValue(input.value);\r\n                };\r\n                this.element.append(input);\r\n            }\r\n        }\r\n        else if (type === \"null\") {\r\n            this.element.append(\"null\");\r\n        }\r\n        else if (type === \"number\") {\r\n            const input = document.createElement(\"input\");\r\n            input.type = \"number\";\r\n            input.value = val.toString();\r\n            input.min = (_z = (_y = (_x = this.schema) === null || _x === void 0 ? void 0 : _x.minimum) === null || _y === void 0 ? void 0 : _y.toString()) !== null && _z !== void 0 ? _z : \"\";\r\n            input.max = (_2 = (_1 = (_0 = this.schema) === null || _0 === void 0 ? void 0 : _0.maximum) === null || _1 === void 0 ? void 0 : _1.toString()) !== null && _2 !== void 0 ? _2 : \"\";\r\n            if (JsonElement.isInteger(this.schema))\r\n                input.step = \"1\";\r\n            input.onchange = () => {\r\n                this.setCurrentTypeValue(parseFloat(input.value));\r\n            };\r\n            this.element.append(input);\r\n        }\r\n        else {\r\n            this.element.append(`[${type}] : ${val}`);\r\n        }\r\n        if (this.onUpdate)\r\n            this.onUpdate();\r\n    }\r\n    createLineNumber(overrideMargin = false) {\r\n        const lineNumber = document.createElement(\"div\");\r\n        lineNumber.classList.add(\"line-number\");\r\n        if (overrideMargin)\r\n            lineNumber.style.marginTop = \"0\";\r\n        return lineNumber;\r\n    }\r\n    createBlock() {\r\n        const block = document.createElement(\"div\");\r\n        block.classList.add(\"json-tool-block\");\r\n        block.style.paddingLeft = \"25px\";\r\n        block.style.borderLeft = \"1px dashed black\";\r\n        block.style.marginLeft = \"3px\";\r\n        let opened = false;\r\n        const collapse = document.createElement(\"div\");\r\n        block.append(collapse);\r\n        collapse.classList.add(\"json-tool-btn\");\r\n        const toggle = () => {\r\n            opened = !opened;\r\n            collapse.innerText = opened ? \"ᐯ\" : \"ᐳ\";\r\n            block.classList.remove(\"opened\", \"closed\");\r\n            block.classList.add(opened ? \"opened\" : \"closed\");\r\n        };\r\n        collapse.onclick = toggle;\r\n        toggle();\r\n        return block;\r\n    }\r\n    createObjectKeyValuePair(key, schema, value, noValue = false) {\r\n        var _a;\r\n        const parent = document.createElement(\"div\");\r\n        const originalKey = key;\r\n        if (typeof key === \"number\") {\r\n            key = (schema === null || schema === void 0 ? void 0 : schema.title) ? `${schema.title} ${key}` : key;\r\n        }\r\n        else {\r\n            key = (_a = schema === null || schema === void 0 ? void 0 : schema.title) !== null && _a !== void 0 ? _a : key;\r\n        }\r\n        const title = document.createElement(\"span\");\r\n        title.innerText = key.toString();\r\n        JsonElement.addDescription(title, schema === null || schema === void 0 ? void 0 : schema.description);\r\n        parent.append(title);\r\n        parent.classList.add(\"json-tool-key\");\r\n        parent.append(\": \");\r\n        if (!noValue) {\r\n            const valueElement = document.createElement(\"div\");\r\n            const element = new JsonElement(valueElement, schema, value, () => this.onUpdate && this.onUpdate());\r\n            if (this.currentType === \"array\")\r\n                this.arrayElements.push(element);\r\n            else if (this.currentType === \"object\")\r\n                this.objectElements[originalKey] = element;\r\n            parent.append(valueElement);\r\n        }\r\n        return parent;\r\n    }\r\n    changeType(type) {\r\n        var _a;\r\n        this.currentType = type;\r\n        if (!this.currentValues.hasOwnProperty(type)) {\r\n            if (typeof ((_a = this.schema) === null || _a === void 0 ? void 0 : _a.default) !== \"undefined\" && JsonElement.getType(this.schema.default) === type)\r\n                this.setCurrentTypeValue(this.schema.default);\r\n            else\r\n                this.setCurrentTypeValue(JsonElement.getDefaultValueForType(this.schema, type));\r\n        }\r\n        this.updateElement();\r\n    }\r\n    setStyle() {\r\n        this.element.style.whiteSpace = \"pre\";\r\n        this.element.classList.add(\"json-tool-value\");\r\n    }\r\n    getValue() {\r\n        var _a;\r\n        let val;\r\n        if (this.currentType === \"array\") {\r\n            val = this.arrayElements.map(e => e.getValue());\r\n        }\r\n        else if (this.currentType === \"object\") {\r\n            const obj = {};\r\n            for (const key in this.objectElements) {\r\n                obj[key] = this.objectElements[key].getValue();\r\n            }\r\n            val = obj;\r\n        }\r\n        else {\r\n            val = (_a = this.currentValues[this.currentType]) !== null && _a !== void 0 ? _a : JsonElement.getDefaultValueForType(this.schema, this.currentType);\r\n        }\r\n        this.currentValues[this.currentType] = val;\r\n        return val;\r\n    }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.TschArray = exports.TschObject = exports.TschUnion = exports.TschBoolean = exports.TschNumber = exports.TschString = exports.TschType = void 0;\r\nclass TschType {\r\n    constructor(type) {\r\n        this._ts = null; //_ts is only used by Typescript for type inference, and so actually doesn't need to be assigned\r\n        this._type = type;\r\n        this._title = null;\r\n        this._description = null;\r\n        this._default = null;\r\n    }\r\n    union(other) {\r\n        return new TschUnion(this, other);\r\n    }\r\n    optional() {\r\n        return new TschUnion(this, new TschType(\"undefined\"));\r\n    }\r\n    nullable() {\r\n        return new TschUnion(this, new TschType(\"null\"));\r\n    }\r\n    _baseClone() {\r\n        return new TschType(this._type);\r\n    }\r\n    _clone() {\r\n        const clone = this._baseClone();\r\n        clone._title = this._title;\r\n        clone._description = this._description;\r\n        clone._default = this._default;\r\n        return clone;\r\n    }\r\n    title(title) {\r\n        const clone = this._clone();\r\n        clone._title = title;\r\n        return clone;\r\n    }\r\n    description(descriptin) {\r\n        const clone = this._clone();\r\n        clone._description = descriptin;\r\n        return clone;\r\n    }\r\n    default(defaultValue) {\r\n        const clone = this._clone();\r\n        clone._default = defaultValue;\r\n        return clone;\r\n    }\r\n    getJsonSchemaProperty() {\r\n        const schema = {\r\n            \"type\": this._type\r\n        };\r\n        if (this._title)\r\n            schema.title = this._title;\r\n        if (this._description)\r\n            schema.description = this._description;\r\n        if (this._default)\r\n            schema.default = this._default;\r\n        return schema;\r\n    }\r\n    _isOptional() { return false; }\r\n    _isNullable() { return false; }\r\n}\r\nexports.TschType = TschType;\r\nclass TschString extends TschType {\r\n    constructor() {\r\n        super(\"string\");\r\n        this._format = null;\r\n        this._enum = null;\r\n        this._minLength = null;\r\n        this._maxLength = null;\r\n    }\r\n    _baseClone() {\r\n        return new TschString();\r\n    }\r\n    _clone() {\r\n        const clone = super._clone();\r\n        clone._format = this._format;\r\n        clone._enum = this._enum;\r\n        clone._minLength = this._minLength;\r\n        clone._maxLength = this._maxLength;\r\n        return clone;\r\n    }\r\n    getJsonSchemaProperty() {\r\n        const schema = super.getJsonSchemaProperty();\r\n        if (this._format)\r\n            schema.format = this._format;\r\n        if (this._enum)\r\n            schema.enum = this._enum;\r\n        if (this._minLength)\r\n            schema.minLength = this._minLength;\r\n        if (this._maxLength)\r\n            schema.maxLength = this._maxLength;\r\n        return schema;\r\n    }\r\n    minLength(min) {\r\n        const clone = this._clone();\r\n        clone._minLength = min;\r\n        return clone;\r\n    }\r\n    maxLength(max) {\r\n        const clone = this._clone();\r\n        clone._maxLength = max;\r\n        return clone;\r\n    }\r\n    enumeration(enumeration) {\r\n        const clone = this._clone();\r\n        clone._enum = [...enumeration];\r\n        return clone;\r\n    }\r\n    format(format) {\r\n        const clone = this._clone();\r\n        clone._format = format;\r\n        return clone;\r\n    }\r\n    color() {\r\n        return this.format(\"color\");\r\n    }\r\n    date() {\r\n        return this.format(\"date\");\r\n    }\r\n    email() {\r\n        return this.format(\"email\");\r\n    }\r\n    password() {\r\n        return this.format(\"password\");\r\n    }\r\n    textarea() {\r\n        return this.format(\"textarea\");\r\n    }\r\n    url() {\r\n        return this.format(\"url\");\r\n    }\r\n}\r\nexports.TschString = TschString;\r\nclass TschNumber extends TschType {\r\n    constructor() {\r\n        super(\"number\");\r\n        this._integer = false;\r\n        this._min = null;\r\n        this._max = null;\r\n    }\r\n    _baseClone() {\r\n        return new TschNumber();\r\n    }\r\n    _clone() {\r\n        const clone = super._clone();\r\n        clone._integer = this._integer;\r\n        clone._min = this._min;\r\n        clone._max = this._max;\r\n        return clone;\r\n    }\r\n    integer() {\r\n        const clone = this._clone();\r\n        clone._integer = true;\r\n        return clone;\r\n    }\r\n    min(min) {\r\n        const clone = this._clone();\r\n        clone._min = min;\r\n        return clone;\r\n    }\r\n    max(max) {\r\n        const clone = this._clone();\r\n        clone._max = max;\r\n        return clone;\r\n    }\r\n    getJsonSchemaProperty() {\r\n        const schema = super.getJsonSchemaProperty();\r\n        if (this._integer)\r\n            schema.type = \"integer\";\r\n        if (this._min !== null)\r\n            schema.minimum = this._min;\r\n        if (this._max !== null)\r\n            schema.maximum = this._max;\r\n        return schema;\r\n    }\r\n}\r\nexports.TschNumber = TschNumber;\r\nclass TschBoolean extends TschType {\r\n    constructor() {\r\n        super(\"boolean\");\r\n    }\r\n    _baseClone() {\r\n        return new TschBoolean();\r\n    }\r\n    _clone() {\r\n        const clone = super._clone();\r\n        return clone;\r\n    }\r\n}\r\nexports.TschBoolean = TschBoolean;\r\nclass TschUnion extends TschType {\r\n    constructor(type1, type2) {\r\n        super(`union_${type1._type}_${type2._type}`);\r\n        this.type1 = type1;\r\n        this.type2 = type2;\r\n    }\r\n    _baseClone() {\r\n        return new TschUnion(this.type1._clone(), this.type2._clone());\r\n    }\r\n    _clone() {\r\n        const clone = super._clone();\r\n        clone.type1 = this.type1._clone();\r\n        clone.type2 = this.type2._clone();\r\n        return clone;\r\n    }\r\n    getJsonSchemaProperty() {\r\n        var _a, _b, _c, _d;\r\n        const schema1 = this.type1._type === \"undefined\" ? {} : this.type1.getJsonSchemaProperty();\r\n        const schema2 = this.type2._type === \"undefined\" ? {} : this.type2.getJsonSchemaProperty();\r\n        const combined = Object.assign(Object.assign({}, schema1), schema2);\r\n        combined.type = [...(Array.isArray(schema1.type) ? schema1.type : [schema1.type]), ...(Array.isArray(schema2.type) ? schema2.type : [schema2.type])].filter(t => !!t && t !== \"undefined\");\r\n        if (combined.type.length < 2)\r\n            combined.type = combined.type[0];\r\n        if (schema1.properties && schema2.properties) {\r\n            combined.properties = Object.assign(Object.assign({}, ((_a = schema1.properties) !== null && _a !== void 0 ? _a : {})), ((_b = schema2.properties) !== null && _b !== void 0 ? _b : {}));\r\n            if (!!schema1.required && !!schema2.required)\r\n                combined.required = schema1.required.filter((f) => { var _a; return (_a = schema2.required) === null || _a === void 0 ? void 0 : _a.includes(f); });\r\n            else\r\n                combined.required = (_d = (_c = schema1.required) !== null && _c !== void 0 ? _c : schema2.required) !== null && _d !== void 0 ? _d : [];\r\n        }\r\n        if (this._title)\r\n            combined.title = this._title;\r\n        if (this._description)\r\n            combined.description = this._description;\r\n        if (this._default)\r\n            combined.default = this._default;\r\n        return combined;\r\n    }\r\n    _isNullable() {\r\n        return this.type1._type === \"null\" || this.type2._type === \"null\" || this.type1._isNullable() || this.type2._isNullable();\r\n    }\r\n    _isOptional() {\r\n        return this.type1._type === \"undefined\" || this.type2._type === \"undefined\" || this.type1._isOptional() || this.type2._isOptional();\r\n    }\r\n}\r\nexports.TschUnion = TschUnion;\r\nclass TschObject extends TschType {\r\n    constructor(shape) {\r\n        super(\"object\");\r\n        this.shape = shape;\r\n    }\r\n    _baseClone() {\r\n        return new TschObject(this.shape);\r\n    }\r\n    _clone() {\r\n        const clone = super._clone();\r\n        clone.shape = this.shape;\r\n        return clone;\r\n    }\r\n    getJsonSchemaProperty() {\r\n        const schema = super.getJsonSchemaProperty();\r\n        schema.required = Object.keys(this.shape).filter(k => !this.shape[k]._isOptional());\r\n        schema.properties = {};\r\n        for (const key in this.shape) {\r\n            schema.properties[key] = this.shape[key].getJsonSchemaProperty();\r\n        }\r\n        return schema;\r\n    }\r\n}\r\nexports.TschObject = TschObject;\r\nclass TschArray extends TschType {\r\n    constructor(elementType) {\r\n        super(\"array\");\r\n        this.elementType = elementType;\r\n        this._format = null;\r\n        this._unique = false;\r\n    }\r\n    _baseClone() {\r\n        return new TschArray(this.elementType);\r\n    }\r\n    _clone() {\r\n        const clone = super._clone();\r\n        clone.elementType = this.elementType;\r\n        clone._format = this._format;\r\n        clone._unique = this._unique;\r\n        return clone;\r\n    }\r\n    getJsonSchemaProperty() {\r\n        const schema = super.getJsonSchemaProperty();\r\n        schema.items = this.elementType.getJsonSchemaProperty();\r\n        if (this._format)\r\n            schema.format = this._format;\r\n        if (this._unique)\r\n            schema.uniqueItems = this._unique;\r\n        return schema;\r\n    }\r\n    table() {\r\n        const clone = this._clone();\r\n        clone._format = \"table\";\r\n        return clone;\r\n    }\r\n    unique() {\r\n        const clone = this._clone();\r\n        clone._unique = true;\r\n        return clone;\r\n    }\r\n}\r\nexports.TschArray = TschArray;\r\n//# sourceMappingURL=TschType.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.tsch = void 0;\r\nconst tsch = __importStar(require(\"./tsch\"));\r\nexports.tsch = tsch;\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.array = exports.object = exports.boolean = exports.number = exports.string = void 0;\r\nconst TschType_1 = require(\"./TschType\");\r\nfunction string() { return new TschType_1.TschString(); }\r\nexports.string = string;\r\nfunction number() { return new TschType_1.TschNumber(); }\r\nexports.number = number;\r\nfunction boolean() { return new TschType_1.TschBoolean(); }\r\nexports.boolean = boolean;\r\nfunction object(shape) {\r\n    return new TschType_1.TschObject(shape);\r\n}\r\nexports.object = object;\r\nfunction array(elementType) {\r\n    return new TschType_1.TschArray(elementType);\r\n}\r\nexports.array = array;\r\n//# sourceMappingURL=tsch.js.map","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst tsch_1 = require(\"tsch\");\r\nconst JsonTool_1 = require(\"./JsonTool\");\r\nconst person = tsch_1.tsch.object({\r\n    name: tsch_1.tsch.string().description(\"First and Last Name\").minLength(4).maxLength(6).default(\"Jeremy Dorn\").nullable(),\r\n    age: tsch_1.tsch.number().integer().default(25).min(18).max(99).optional().title(\"Age\").union(tsch_1.tsch.string()),\r\n    favorite_color: tsch_1.tsch.string().color().title(\"favorite color\").default(\"#ffa500\"),\r\n    gender: tsch_1.tsch.string().enumeration([\"male\", \"female\", \"other\"]),\r\n    date: tsch_1.tsch.string().date(),\r\n    alive: tsch_1.tsch.boolean().default(true).nullable().title(\"Alive\").description(\"If checked, this person is still alive\"),\r\n    description: tsch_1.tsch.string().textarea(),\r\n    password: tsch_1.tsch.string().password(),\r\n    website: tsch_1.tsch.string().url(),\r\n    email: tsch_1.tsch.string().email(),\r\n    location: tsch_1.tsch.object({\r\n        city: tsch_1.tsch.string().default(\"San Francisco\"),\r\n        state: tsch_1.tsch.string().default(\"CA\")\r\n    }).title(\"Location\"),\r\n    pets: tsch_1.tsch.array(tsch_1.tsch.object({\r\n        type: tsch_1.tsch.string().enumeration([\"cat\", \"dog\", \"bird\", \"reptile\", \"other\"]).default(\"dog\"),\r\n        name: tsch_1.tsch.string()\r\n    }).title(\"Pet\")).unique().table().default([{ type: \"dog\", name: \"Walter\" }])\r\n}).title(\"Person\");\r\nconst personJsonSchema = person.getJsonSchemaProperty();\r\nconst rootElement = document.querySelector(\"#root\");\r\nif (rootElement) {\r\n    const tool = new JsonTool_1.JsonTool(rootElement);\r\n    tool.load(personJsonSchema, { test: 123 });\r\n    window.getValue = () => tool.getValue();\r\n}\r\n"],"names":["Object","defineProperty","exports","value","JsonTool","constructor","element","_a","_b","this","root","document","createElement","style","fontFamily","marginLeft","classList","add","rootObject","rootElement","iframe","width","height","overflow","border","appendChild","iframeBody","contentDocument","contentWindow","querySelector","append","createCss","onload","load","schema","innerHTML","title","textContent","JsonElement","addDescription","description","onUpdate","getValue","number","querySelectorAll","forEach","e","innerText","toString","parent","arrayElements","objectElements","setStyle","currentValues","types","getDefaultAvailableTypes","actualType","getType","currentType","push","setCurrentTypeValue","def","getDefaultValue","type","Set","updateElement","JSON","parse","stringify","undefined","static","textDecoration","cursor","Array","isArray","arr","includes","map","t","availableTypes","default","getDefaultValueForType","_c","isInteger","Math","ceil","minimum","enum","format","Date","toDateString","obj","properties","required","hasOwnProperty","_d","_e","_f","_g","_h","_j","_k","_l","_m","_o","_p","_q","_r","_s","_t","_u","_v","_w","_x","_y","_z","_0","_1","_2","display","remove","createLineNumber","val","length","select","option","onchange","changeType","object","createBlock","key","createObjectKeyValuePair","buttons","prepend","onclick","array","items","defaultValue","i","idx","splice","up","slice","concat","down","checkbox","checked","input","minLength","maxLength","valueAsDate","min","max","maximum","step","parseFloat","overrideMargin","lineNumber","marginTop","block","paddingLeft","borderLeft","opened","collapse","toggle","noValue","originalKey","valueElement","whiteSpace","TschArray","TschObject","TschUnion","TschBoolean","TschNumber","TschString","TschType","_ts","_type","_title","_description","_default","union","other","optional","nullable","_baseClone","_clone","clone","descriptin","getJsonSchemaProperty","_isOptional","_isNullable","super","_format","_enum","_minLength","_maxLength","enumeration","color","date","email","password","textarea","url","_integer","_min","_max","integer","type1","type2","schema1","schema2","combined","assign","filter","f","shape","keys","k","elementType","_unique","uniqueItems","table","unique","__createBinding","create","o","m","k2","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","__setModuleDefault","v","__importStar","mod","result","prototype","call","tsch","boolean","string","TschType_1","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","module","__webpack_modules__","tsch_1","JsonTool_1","personJsonSchema","name","age","favorite_color","gender","alive","website","location","city","state","pets","tool","test","window"],"sourceRoot":""}